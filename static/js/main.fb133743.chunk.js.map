{"version":3,"sources":["modules/loading.js","lib/createSaga.js","lib/client.js","lib/api.js","modules/auth.js","modules/user.js","modules/posts.js","modules/write.js","modules/post.js","modules/userInfo.js","modules/comment.js","modules/index.js","components/common/Responsive.js","components/common/Gnb.js","lib/palette.js","components/common/GnbMenu.js","components/common/Button.js","lib/useMenu.js","containers/GnbContainer.js","components/common/PopupMenu.js","components/posts/PostList.js","components/posts/SearchBox.js","components/posts/PostHeader.js","lib/format.js","lib/common/aboutTime.js","lib/postList/setTitle_Content.js","containers/PostListContainer.js","components/posts/PostPaging.js","containers/PagingContainer.js","pages/PostListPage.js","components/auth/AuthTemplate.js","components/auth/AuthForm.js","components/auth/ExAuthForm.js","containers/LoginContainer.js","pages/LoginPage.js","containers/RegisterContainer.js","pages/RegisterPage.js","components/comment/Comment.js","components/comment/DeleteModal.js","components/comment/UpdateModal.js","components/comment/CommentList.js","components/comment/CommentListWrite.js","lib/constants.js","components/comment/CommentWrite.js","lib/msg.js","containers/CommentContainer.js","components/post/ErrorModal.js","components/common/Loading.js","components/post/PostRead.js","components/post/RemoveModal.js","components/post/EditDelete.js","components/like/Like.js","containers/PostReadContainer.js","components/post/PostReadList.js","containers/PostReadListContainer.js","pages/PostReadPage.js","components/write/WriteTemplate.js","components/write/CancleModal.js","components/write/WriteButtons.js","components/write/Tags.js","components/write/WriteForm.js","containers/WriteContainer.js","pages/WritePage.js","components/auth/UserInfo.js","containers/UserInfoContainer.js","pages/UserInfo.js","components/auth/UpdateUser.js","containers/UpdateUserContainer.js","pages/UpdateUserPage.js","App.js","index.js"],"names":["START_LOADING","FINISH_LOADING","startLoading","createAction","requestType","finishLoading","loading","handleActions","state","action","payload","createTypes","type","createSaga","request","SUCCESS","FAILURE","put","call","res","data","meta","error","client","axios","create","logout","post","authSaga","CHANGE_FORM","INITIALIZE_FORM","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","INITIALIZE","changeForm","form","key","value","initializeForm","initialize","login","username","password","register","email","phone","loginSaga","registerSaga","takeLatest","init","passwordConfirm","auth","authError","immer","draft","logoutSaga","userSaga","TEMP_SET_USER","CHECK","CHECK_SUCCESS","CHECK_FAILURE","LOGOUT","tempSetUser","user","check","checkSaga","get","checkFailureSaga","localStorage","removeItem","e","console","log","api","checkError","postsSaga","POST_LIST","POST_LIST_SUCCESS","POST_LIST_FAILURE","postsList","searchKeyword","option","tag","page","postsListSaga","queryString","qs","stringify","posts","lastPage","parseInt","headers","writeSaga","CHANGE_FIELD","CREATE_POST","CREATE_POST_SUCCESS","CREATE_POST_FAILURE","UPDATE_POST","UPDATE_POST_SUCCESS","UPDATE_POST_FAILURE","OLD_POST","oldPost","oldpost","updatePost","postId","title","body","tags","changeField","createPost","createPostSaga","updatePostSaga","patch","postError","oldpostId","write","_id","postSaga","GET_POST","GET_POST_SUCCESS","GET_POST_FAILURE","INIT_POST","REMOVE_POST","REMOVE_POST_SUCCESS","REMOVE_POST_FAILURE","getPost","initPost","removePost","getPostSaga","removePostSaga","delete","userInformationSaga","USERINFO","USERINFO_SUCCESS","USERINFO_FAILURE","UPDATEUSER","UPDATEUSER_SUCCESS","UPDATEUSER_FAILURE","SET_ORIGINAL_USERINFO","getUserInfo","meFlag","updateUser","userId","setOriginalUserInfo","userInfo","getUserInfoSaga","query","updateUserSaga","commentSaga","CHANGE_COMMENT","INITIALIZE_COMMENT","REMOVE_COMMENT","REMOVE_COMMENT_SUCCESS","REMOVE_COMMENT_FAILURE","WRITE_COMMENT","WRITE_COMMENT_SUCCESS","WRITE_COMMENT_FAILURE","GET_COMMENT","GET_COMMENT_SUCCESS","GET_COMMENT_FAILURE","UPDATE_COMMENT","UPDATE_COMMENT_SUCCESS","UPDATE_COMMENT_FAILURE","changeComment","commentInput","initializeComment","removeComment","commentId","updateComment","replyComment","writeComment","getComment","removeCommentSaga","updateCommentSaga","writeCommentSaga","getCommentSaga","commentList","comment","concat","rootSaga","persistConfig","storage","whitelist","rootReducer","combineReducers","all","persistReducer","ResponsiveBlock","styled","div","props","gnb","css","main","Responsive","children","rest","GnbBlock","Wrapper","Spacer","GnbUserIcon","onClickUser","usernameRef","gnbMenu","className","onClick","ref","withRouter","history","gnbUserIcon","push","palette","green","lime","yellow","orange","gray","red","pink","grape","violet","indigo","blue","cyan","teal","GnbMenuBlock","outsideRef","onLogout","style","color","ButtonBlock","button","fullWidth","to","useMenu","ref1","ref2","useState","isMenuOpen","setIsMenuOpen","useEffect","handleClickOutside","target","current","contains","document","addEventListener","removeEventListener","useSelector","dispatch","useDispatch","useRef","PopupMenuBlock","postUsername","loginUser","onGetUserInfo","loginUsername","PostItemBlock","PostItem","createDate","length","map","SearchBoxBlock","SearchBox","onChangeOption","onChangeinput","onSubmit","onChange","defaultValue","placeholder","size","PostHeaderBlock","PostHeader","writeButton","formatDate","date","moment","format","formatDate_day","registedPeriod","now","Date","registDate","getTime","Math","ceil","timeCalculation","today","postDate","betweenTime","diff","setTitle","param","QueryString","parse","ignoreQueryPrefix","location","setSearchkeyword","setOption","search","newPosts","p","marginTop","preventDefault","url","PagingBlock","clickPage","goPage","PAGE","innerText","counter","i","prePage","undefined","nextPage","disabled","PostListPage","height","overflowY","width","margin","AuthTemplateBlock","WhiteBox","AuthTemplate","AuthFormBlock","StyledInput","input","Footer","ErrorBlock","textMap","AuthForm","name","ExAuthFormBlock","ExAuthForm","src","alt","setError","response","message","setItem","JSON","includes","onGoogleLogin","LoginPage","RegisterPage","CommentBlock","Comment","id","DeleteModalBlock","onRemove","show","handleDelClose","UpdateModalBlock","onComEdit","handleClose","setComment","CommentListBlock","checkUser","CommentList","onDelete","onEdit","createdAt","setShow","deleteShow","setDelete","comm","StyledSp","CommentListWrite","click","c","MAX_BODY","CommentWriteStyle","StyledButtonBlock","commentLength","postComment","setValue","commentValue","CommentWrite","match","params","setClick","useCallback","com","ErrorModalBlock","Loading","PostReadBlock","LoadingBlock","PostRead","editDelete","onTagClick","likes","index","RemoveModalBlock","EditDeleteBlock","LikeBlock","StyledP","Like","addlike","iine","like","setIine","updateLike","a","ownPost","findIndex","splice","PostReadListBlock","onPostClick","onListClick","currentIndex","firstIndex","lastIndex","slice","find","PostReadPage","WriteTemplateBlock","WriteTemplate","ModalBlock","Section","handleOpen","handleGoBack","WriteButtonsBlock","StyledButton","Button","onGoBack","modalIsOpen","setModalIsOpen","TagsBlock","TagList","React","memo","localTags","Tags","onSubmitTags","setLocalTags","warnMS","setWarnMS","replaceValue","flag","replaced","replace","targetValue","replacedTargetValue","onKeyDown","keyCode","keyFlag","replacedValue","filtering","filter","element","maxLength","localtag","StyledBodyDiv","bodyLength","StyledTitleLength","titleLength","StyledBodyLength","WriteForm","cantSubmit","checkField","goBack","WritePage","WriteContainer","UserInfoBlock","InfoItem","UserInfo","information","onCancel","background","required","success","setSuccess","originEmail","originPhone","changePassword","UpdateUserPage","App","component","path","exact","ReadPage","saga","createSagaMiddleware","middleWares","store","createStore","composeWithDevTools","applyMiddleware","persistor","persistStore","run","getItem","loadLS","ReactDOM","render","basename","process","getElementById"],"mappings":"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","file":"static/js/main.fb133743.chunk.js","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\r\n\r\nconst START_LOADING = \"loading/START_LOADING\";\r\nconst FINISH_LOADING = \"loading/FINISH_LOADING\";\r\n\r\nexport const startLoading = createAction(\r\n  START_LOADING,\r\n  requestType => requestType\r\n);\r\nexport const finishLoading = createAction(\r\n  FINISH_LOADING,\r\n  requestType => requestType\r\n);\r\nconst init = {};\r\n\r\nconst loading = handleActions(\r\n  {\r\n    [START_LOADING]: (state, action) => ({ ...state, [action.payload]: true }),\r\n    [FINISH_LOADING]: (state, action) => ({\r\n      ...state,\r\n      [action.payload]: false,\r\n    }),\r\n  },\r\n  init\r\n);\r\n\r\nexport default loading;\r\n","import { call, put } from 'redux-saga/effects';\r\nimport { startLoading, finishLoading } from '../modules/loading';\r\n\r\nexport const createTypes = type => {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n  return [type, SUCCESS, FAILURE];\r\n};\r\n\r\nexport default function createSaga(type, request) {\r\n  const SUCCESS = `${type}_SUCCESS`;\r\n  const FAILURE = `${type}_FAILURE`;\r\n\r\n  return function* (action) {\r\n    yield put(startLoading(type));\r\n    try {\r\n      const res = yield call(request, action.payload);\r\n      yield put({\r\n        type: SUCCESS,\r\n        payload: res.data,\r\n        meta: res,\r\n      });\r\n    } catch (error) {\r\n      yield put({\r\n        type: FAILURE,\r\n        payload: error,\r\n        error: true,\r\n      });\r\n    }\r\n    yield put(finishLoading(type));\r\n  };\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst client = axios.create();\r\n\r\nexport default client;\r\n","import client from './client';\r\nimport qs from 'qs';\r\n\r\nexport const login = ({ username, password }) =>\r\n  client.post('/users/login', {\r\n    username,\r\n    password,\r\n  });\r\n\r\nexport const register = ({ username, password, email, phone }) =>\r\n  client.post('/users/', {\r\n    username,\r\n    password,\r\n    email,\r\n    phone,\r\n  });\r\n\r\nexport const check = () => client.get('/users/check');\r\n\r\nexport const logout = () => client.post('/users/logout');\r\n\r\nexport const createPost = ({ title, body, tags }) =>\r\n  client.post('/posts', { title, body, tags });\r\n\r\nexport const getPostList = ({ option, searchKeyword, page, username, tag }) => {\r\n  const queryString = qs.stringify({\r\n    option,\r\n    searchKeyword, \r\n    page,\r\n    username,\r\n    tag,\r\n  });\r\n  return client.get(`/posts?${queryString}`);\r\n};\r\nexport const getPost = ({ postId }) => client.get(`/posts/${postId}`);\r\n\r\nexport const removePost = ({ postId }) => client.delete(`/posts/${postId}`);\r\n\r\nexport const updatePost = ({ postId, title, body, tags }) => client.patch(`/posts/${postId}`,{title,body,tags});\r\n\r\nexport const getUserInfo = ({ username, meFlag }) => {\r\n  const query = qs.stringify({\r\n    username,\r\n    meFlag,\r\n  });\r\n  return client.get(`/users/userInfo?${query}`);\r\n};\r\n\r\nexport const updateUser = ({ userId, password, email, phone }) =>\r\n  client.patch(`/users/userInfo/${userId}`, {\r\n    password,\r\n    email,\r\n    phone,\r\n  });\r\n  \r\nexport const writeComment = ({ commentInput, postId }) =>\r\n  client.post('/posts/comment', {\r\n    commentInput,\r\n    postId,\r\n  });\r\n\r\nexport const getComment = ({ postId }) =>\r\n  client.get(`/posts/comment/${postId}`);\r\n\r\nexport const removeComment = ({postId,commentId}) =>\r\n  client.delete(`/posts/comment/${postId}/${commentId}`);\r\n\r\nexport const updateComment = ({postId,commentId,replyComment}) =>\r\n  client.patch(`/posts/comment/${postId}/${commentId}`,{replyComment});\r\n\r\nexport const updateLike = (postId,likes) => client.patch(`/posts/like/${postId}`,likes);\r\n\r\n\r\n","import { createAction, handleActions } from \"redux-actions\";\r\nimport immer from \"immer\";\r\nimport { takeLatest } from \"@redux-saga/core/effects\";\r\nimport createSaga, { createTypes } from \"../lib/createSaga\";\r\nimport * as api from \"../lib/api\";\r\n\r\nconst CHANGE_FORM = \"auth/CHANGE_FORM\";\r\nconst INITIALIZE_FORM = \"auth/INITIALIZE_FORM\";\r\nconst [LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE] = createTypes(\"auth/LOGIN\");\r\nconst [REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE] =\r\n  createTypes(\"auth/REGISTER\");\r\nconst INITIALIZE = 'auth/INITIALIZE';\r\n\r\nexport const changeForm = createAction(CHANGE_FORM, ({ form, key, value }) => ({\r\n  form,\r\n  key,\r\n  value,\r\n}));\r\n\r\nexport const initializeForm = createAction(INITIALIZE_FORM, (form) => form);\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\n\r\nexport const login = createAction(LOGIN, ({ username, password }) => ({\r\n  username,\r\n  password,\r\n}));\r\n\r\nexport const register = createAction(\r\n  REGISTER,\r\n  ({ username, password, email, phone }) => ({\r\n    username,\r\n    password,\r\n    email,\r\n    phone,\r\n  })\r\n);\r\n\r\nconst loginSaga = createSaga(LOGIN, api.login);\r\nconst registerSaga = createSaga(REGISTER, api.register);\r\n\r\nexport function* authSaga() {\r\n  yield takeLatest(LOGIN, loginSaga);\r\n  yield takeLatest(REGISTER, registerSaga);\r\n}\r\n\r\nconst init = {\r\n  register: {\r\n    username: \"\",\r\n    password: \"\",\r\n    passwordConfirm: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n  },\r\n  login: {\r\n    username: \"\",\r\n    password: \"\",\r\n  },\r\n  auth: null,\r\n  authError: null,\r\n};\r\n\r\nconst auth = handleActions(\r\n  {\r\n    [CHANGE_FORM]: (state, { payload: { form, key, value } }) =>\r\n      immer(state, (draft) => {\r\n        draft[form][key] = value;\r\n      }),\r\n    [INITIALIZE_FORM]: (state, { payload: form }) => ({\r\n      ...state,\r\n      [form]: init[form],\r\n    }),\r\n    [LOGIN_SUCCESS]: (state, { payload: auth }) => ({ ...state, auth }),\r\n    [LOGIN_FAILURE]: (state, { payload: authError }) => ({\r\n      ...state,\r\n      authError,\r\n    }),\r\n    [REGISTER_SUCCESS]: (state, { payload: auth }) => ({ ...state, auth }),\r\n    [REGISTER_FAILURE]: (state, { payload: authError }) => ({\r\n      ...state,\r\n      authError,\r\n    }),\r\n    [INITIALIZE]: (state) => init,\r\n  },\r\n  init\r\n);\r\n\r\nexport default auth;","import { createAction, handleActions } from 'redux-actions';\r\nimport { call, takeLatest } from '@redux-saga/core/effects';\r\nimport createSaga, { createTypes } from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\n\r\nconst TEMP_SET_USER = 'user/TEMP_SET_USER';\r\nconst [CHECK, CHECK_SUCCESS, CHECK_FAILURE] = createTypes('user/CHECK');\r\nconst LOGOUT = 'user/LOGOUT';\r\n\r\nexport const tempSetUser = createAction(TEMP_SET_USER, (user) => user);\r\nexport const check = createAction(CHECK);\r\nexport const logout = createAction(LOGOUT);\r\n\r\nconst checkSaga = createSaga(CHECK, api.check);\r\n\r\nfunction checkFailureSaga() {\r\n    try {\r\n        localStorage.removeItem('user');\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nfunction* logoutSaga() {\r\n    try {\r\n        yield call(api.logout);\r\n        localStorage.removeItem('user');\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* userSaga() {\r\n    yield takeLatest(CHECK, checkSaga);\r\n    yield takeLatest(LOGOUT, logoutSaga);\r\n    yield takeLatest(CHECK_FAILURE, checkFailureSaga);\r\n}\r\n\r\nconst init = {\r\n    user: null,\r\n    checkError: null,\r\n};\r\n\r\nconst user = handleActions(\r\n    {\r\n        [TEMP_SET_USER]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n        }),\r\n        [CHECK_SUCCESS]: (state, { payload: user }) => ({\r\n            ...state,\r\n            user,\r\n            checkError: null,\r\n        }),\r\n        [CHECK_FAILURE]: (state, { payload: checkError }) => ({\r\n            ...state,\r\n            user: null,\r\n            checkError,\r\n        }),\r\n        [LOGOUT]: (state) => ({ ...state, user: null }),\r\n    },\r\n    init,\r\n);\r\n\r\nexport default user;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest } from '@redux-saga/core/effects';\r\nimport createSaga, { createTypes } from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\n\r\nconst [POST_LIST, POST_LIST_SUCCESS, POST_LIST_FAILURE] =\r\n  createTypes('posts/POST_LIST');\r\n\r\nexport const postsList = createAction(\r\n  POST_LIST,\r\n  ({ searchKeyword, option, tag, username, page }) => ({\r\n    searchKeyword,\r\n    option,\r\n    tag,\r\n    username,\r\n    page,\r\n  })\r\n);\r\n\r\nconst postsListSaga = createSaga(POST_LIST, api.getPostList);\r\n\r\nexport function* postsSaga() {\r\n  yield takeLatest(POST_LIST, postsListSaga);\r\n}\r\n\r\nconst init = {\r\n  posts: null,\r\n  error: null,\r\n  lastPage: 1,\r\n};\r\n\r\nconst posts = handleActions(\r\n  {\r\n    [POST_LIST_SUCCESS]: (state, { payload: posts, meta: res }) => ({\r\n      ...state,\r\n      posts,\r\n      error: null,\r\n      lastPage: parseInt(res.headers['last-page'], 10),\r\n    }),\r\n    [POST_LIST_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      posts: null,\r\n      error,\r\n    }),\r\n  },\r\n  init\r\n);\r\n\r\nexport default posts;\r\n","import {\r\n  createAction,\r\n  handleActions,\r\n} from 'redux-actions';\r\nimport createSaga, {\r\n  createTypes,\r\n} from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\nimport { takeLatest } from '@redux-saga/core/effects';\r\n\r\nconst CHANGE_FIELD = 'write/CHANGE_FIELD';\r\nconst INITIALIZE = 'write/INITIALIZE';\r\nconst [\r\n  CREATE_POST,\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_FAILURE,\r\n] = createTypes('write/CREATE_POST');\r\nconst [UPDATE_POST,UPDATE_POST_SUCCESS,UPDATE_POST_FAILURE]=createTypes('write/UPDATE_POST');\r\n\r\nconst OLD_POST = \"write/OLD_POST\";\r\nexport const oldPost = createAction(OLD_POST,(oldpost)=>oldpost)\r\n\r\nexport const updatePost = createAction(UPDATE_POST,({postId,title,body,tags})=>({postId,title,body,tags}))\r\nexport const changeField = createAction(\r\n  CHANGE_FIELD,\r\n  ({ key, value }) => ({\r\n    key,\r\n    value,\r\n  })\r\n);\r\n\r\nexport const initialize =\r\n  createAction(INITIALIZE);\r\n\r\nexport const createPost = createAction(\r\n  CREATE_POST,\r\n  ({ title, body, tags }) => ({\r\n    title,\r\n    body,\r\n    tags,\r\n  })\r\n);\r\n\r\nconst createPostSaga = createSaga(\r\n  CREATE_POST,\r\n  api.createPost\r\n);\r\nconst updatePostSaga = createSaga(UPDATE_POST,api.updatePost);\r\n\r\nexport function* writeSaga() {\r\n  yield takeLatest(CREATE_POST, createPostSaga);\r\n  yield takeLatest(UPDATE_POST,updatePostSaga);\r\n}\r\n\r\nconst init = {\r\n  title: '',\r\n  body: '',\r\n  tags: [],\r\n  post: null,\r\n  postError: null,\r\n  oldpostId:null\r\n};\r\n\r\nconst write = handleActions(\r\n  {\r\n    [CHANGE_FIELD]: (\r\n      state,\r\n      { payload: { key, value } }\r\n    ) => ({\r\n      ...state,\r\n      [key]: value,\r\n    }),\r\n    [INITIALIZE]: (state) => init,\r\n    [CREATE_POST]: (state) => ({\r\n      ...state,\r\n      post: null,\r\n      postError: null,\r\n    }),\r\n    [CREATE_POST_SUCCESS]: (\r\n      state,\r\n      { payload: post }\r\n    ) => ({\r\n      ...state,\r\n      post,\r\n    }),\r\n    [CREATE_POST_FAILURE]: (\r\n      state,\r\n      { payload: postError }\r\n    ) => ({\r\n      ...state,\r\n      postError,\r\n    }),\r\n    [OLD_POST]:(state,{payload:post})=>({\r\n      ...state,\r\n      oldpostId:post._id,\r\n      title:post.title,\r\n      body:post.body,\r\n      tags:post.tags,\r\n    }),\r\n    [UPDATE_POST_SUCCESS]:(state,{payload:post})=>({...state,post}),\r\n    [UPDATE_POST_FAILURE]:(state,{payload:postError})=>({\r\n      ...state,\r\n      postError,\r\n    }),\r\n  },\r\n  init\r\n);\r\n\r\nexport default write;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport createSaga, { createTypes } from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\nimport { takeLatest } from '@redux-saga/core/effects';\r\n\r\nconst [GET_POST, GET_POST_SUCCESS, GET_POST_FAILURE] = createTypes('post/GET_POST');\r\nconst INIT_POST = 'post/INIT_POST';\r\nconst [REMOVE_POST, REMOVE_POST_SUCCESS, REMOVE_POST_FAILURE] =\r\n  createTypes('post/REMOVE_POST');\r\n\r\nexport const getPost = createAction(GET_POST, (postId) => ({\r\n  postId,\r\n}));\r\nexport const initPost = createAction(INIT_POST);\r\nexport const removePost = createAction(REMOVE_POST, (postId) => ({\r\n  postId,\r\n}));\r\n\r\nconst getPostSaga = createSaga(GET_POST, api.getPost);\r\nconst removePostSaga = createSaga(REMOVE_POST, api.removePost);\r\n\r\nexport function* postSaga() {\r\n  yield takeLatest(GET_POST, getPostSaga);\r\n  yield takeLatest(REMOVE_POST, removePostSaga);\r\n}\r\n\r\nconst init = {\r\n  post: null,\r\n  error: null,\r\n};\r\n\r\nconst post = handleActions(\r\n  {\r\n    [GET_POST_SUCCESS]: (state, { payload: post }) => ({\r\n      ...state,\r\n      post,\r\n    }),\r\n    [GET_POST_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [REMOVE_POST_SUCCESS]: (state) => ({\r\n      ...state,\r\n      post: null,\r\n    }),\r\n    [REMOVE_POST_FAILURE]: (state, { payload: error }) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [INIT_POST]: () => init,\r\n  },\r\n  init\r\n);\r\n\r\nexport default post;\r\n","import { createAction, handleActions } from 'redux-actions';\r\nimport { takeLatest } from '@redux-saga/core/effects';\r\nimport createSaga, { createTypes } from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\n\r\nconst [USERINFO, USERINFO_SUCCESS, USERINFO_FAILURE] = createTypes('userInfo/USERINFO');\r\nconst [UPDATEUSER, UPDATEUSER_SUCCESS, UPDATEUSER_FAILURE] = createTypes('userInfo/UPDATEUSER');\r\nconst CHANGE_FORM = 'userInfo/CHANGE_FORM';\r\nconst INITIALIZE = 'userInfo/INITIALIZE';\r\nconst SET_ORIGINAL_USERINFO = 'user/SET_ORIGINAL_USERINFO';\r\n\r\nexport const getUserInfo = createAction(USERINFO, ({ username, meFlag }) => ({\r\n    username,\r\n    meFlag,\r\n}));\r\n\r\nexport const updateUser = createAction(UPDATEUSER, ({ userId, password, email, phone }) => ({\r\n    userId,\r\n    password,\r\n    email,\r\n    phone,\r\n}));\r\n\r\nexport const changeForm = createAction(CHANGE_FORM, ({ key, value }) => ({\r\n    key,\r\n    value,\r\n}));\r\n\r\nexport const initialize = createAction(INITIALIZE);\r\n\r\nexport const setOriginalUserInfo = createAction(SET_ORIGINAL_USERINFO, (userInfo) => userInfo);\r\n\r\nconst getUserInfoSaga = createSaga(USERINFO, api.getUserInfo);\r\nconst updateUserSaga = createSaga(UPDATEUSER, api.updateUser);\r\n\r\nexport function* userInformationSaga() {\r\n    yield takeLatest(USERINFO, getUserInfoSaga);\r\n    yield takeLatest(UPDATEUSER, updateUserSaga);\r\n}\r\n\r\nconst init = {\r\n    userInfo: null,\r\n    error: null,\r\n    userId: '',\r\n    username: '',\r\n    password: '',\r\n    passwordConfirm: '',\r\n    email: '',\r\n    phone: '',\r\n};\r\n\r\nconst userInfo = handleActions(\r\n    {\r\n        [USERINFO_SUCCESS]: (state, { payload: userInfo }) => ({\r\n            ...state,\r\n            userInfo,\r\n            error: null,\r\n        }),\r\n        [USERINFO_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [SET_ORIGINAL_USERINFO]: (state, { payload: userInfo }) => ({\r\n            ...state,\r\n            userId: userInfo._id,\r\n            username: userInfo.username,\r\n            email: userInfo.email,\r\n            phone: userInfo.phone,\r\n            userInfo,\r\n        }),\r\n        [UPDATEUSER_SUCCESS]: (state, { payload: userInfo }) => ({\r\n            ...state,\r\n            userInfo\r\n        }),\r\n        [UPDATEUSER_FAILURE]: (state, { payload: error }) => ({\r\n            ...state,\r\n            error,\r\n        }),\r\n        [CHANGE_FORM]: (state, { payload: { key, value } }) => ({\r\n            ...state,\r\n            [key]: value,\r\n        }),\r\n        [INITIALIZE]: (state) => init,\r\n    },\r\n    init,\r\n);\r\n\r\nexport default userInfo;\r\n","import {\r\n  createAction,\r\n  handleActions,\r\n} from 'redux-actions';\r\nimport createSaga, {\r\n  createTypes,\r\n} from '../lib/createSaga';\r\nimport * as api from '../lib/api';\r\nimport { takeLatest } from '@redux-saga/core/effects';\r\n\r\nconst CHANGE_COMMENT = 'comment/CHANGE_COMMENT';\r\nconst INITIALIZE_COMMENT ='comment/INITIALIZE_COMMENT';\r\n\r\nconst[REMOVE_COMMENT,REMOVE_COMMENT_SUCCESS,REMOVE_COMMENT_FAILURE]=createTypes('comment/REMOVE_COMMENT');\r\n\r\nconst [\r\n  WRITE_COMMENT,\r\n  WRITE_COMMENT_SUCCESS,\r\n  WRITE_COMMENT_FAILURE,\r\n] = createTypes('comment/WRITE_COMMENT');\r\nconst [\r\n  GET_COMMENT,\r\n  GET_COMMENT_SUCCESS,\r\n  GET_COMMENT_FAILURE,\r\n] = createTypes('comment/GET_COMMENT');\r\n\r\nconst[UPDATE_COMMENT,UPDATE_COMMENT_SUCCESS,UPDATE_COMMENT_FAILURE]=createTypes('comment/UPDATE_COMMENT');\r\n\r\n\r\nexport const changeComment = createAction(\r\n  CHANGE_COMMENT,\r\n  (commentInput) => commentInput\r\n);\r\n\r\nexport const initializeComment = createAction(\r\n  INITIALIZE_COMMENT\r\n);\r\n\r\nexport const removeComment = createAction(REMOVE_COMMENT,({postId,commentId})=>({postId,commentId}));\r\n\r\nexport const updateComment = createAction(UPDATE_COMMENT,({postId,commentId,replyComment})=>({postId,commentId,replyComment}))\r\n\r\nexport const writeComment = createAction(\r\n  WRITE_COMMENT,\r\n  ({ commentInput, postId }) => ({\r\n    commentInput,\r\n    postId,\r\n  })\r\n);\r\n\r\nexport const getComment = createAction(\r\n  GET_COMMENT,\r\n  (postId) => ({\r\n    postId,\r\n  })\r\n);\r\n\r\nconst removeCommentSaga = createSaga(REMOVE_COMMENT,api.removeComment)\r\n\r\nconst updateCommentSaga = createSaga(UPDATE_COMMENT,api.updateComment);\r\n\r\nconst writeCommentSaga = createSaga(\r\n  WRITE_COMMENT,\r\n  api.writeComment\r\n);\r\nconst getCommentSaga = createSaga(\r\n  GET_COMMENT,\r\n  api.getComment\r\n);\r\n\r\nexport function* commentSaga() {\r\n  yield takeLatest(\r\n    WRITE_COMMENT,\r\n    writeCommentSaga\r\n  );\r\n  yield takeLatest(GET_COMMENT, getCommentSaga);\r\n  yield takeLatest(REMOVE_COMMENT,removeCommentSaga);\r\n  yield takeLatest(UPDATE_COMMENT,updateCommentSaga);\r\n}\r\n\r\nconst init = {\r\n  commentList: [],\r\n  commentInput: '',\r\n  error: null,\r\n};\r\n\r\nconst comment = handleActions(\r\n  {\r\n    [CHANGE_COMMENT]: (\r\n      state,\r\n      { payload: commentInput }\r\n    ) => ({\r\n      ...state,\r\n      commentInput,\r\n    }),\r\n    [INITIALIZE_COMMENT]: (state) => init,\r\n    [GET_COMMENT_SUCCESS]: (\r\n      state,\r\n      { payload: commentList }\r\n    ) => ({\r\n      ...state,\r\n      commentList: commentList,\r\n      error: null,\r\n    }),\r\n    [GET_COMMENT_FAILURE]: (\r\n      state,\r\n      { payload: error }\r\n    ) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [REMOVE_COMMENT_SUCCESS]:(state,{payload:commentList})=>({\r\n      ...state,\r\n      commentList\r\n    }),\r\n    [REMOVE_COMMENT_FAILURE]:(state,{payload:error})=>({\r\n      ...state,\r\n      error,\r\n    }),\r\n    [UPDATE_COMMENT_SUCCESS]:(state,{payload:commentList})=>({\r\n      ...state,\r\n      commentList\r\n    }),\r\n    [UPDATE_COMMENT_FAILURE]:(state,{payload:error})=>({\r\n      ...state,\r\n      error\r\n    }),\r\n    [WRITE_COMMENT_SUCCESS]: (\r\n      state,\r\n      { payload: commentList }\r\n    ) => ({\r\n      ...state,\r\n      commentList:\r\n        state.commentList.concat(commentList),\r\n      error: null,\r\n    }),\r\n    [WRITE_COMMENT_FAILURE]: (\r\n      state,\r\n      { payload: error }\r\n    ) => ({\r\n      ...state,\r\n      error,\r\n    }),\r\n  },\r\n  init\r\n);\r\n\r\nexport default comment;\r\n","import { combineReducers } from 'redux';\r\nimport auth, { authSaga } from './auth';\r\nimport loading from './loading';\r\nimport { all } from '@redux-saga/core/effects';\r\nimport user from './user';\r\nimport { userSaga } from './user';\r\nimport posts, { postsSaga } from './posts';\r\nimport write, { writeSaga } from './write';\r\nimport post, { postSaga } from './post';\r\nimport { persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport userInfo, {\r\n  userInformationSaga,\r\n} from './userInfo';\r\nimport comment, { commentSaga } from './comment';\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['posts'],\r\n};\r\n\r\nconst rootReducer = combineReducers({\r\n  auth,\r\n  loading,\r\n  user,\r\n  posts,\r\n  write,\r\n  post,\r\n  userInfo,\r\n  comment,\r\n});\r\n\r\nexport function* rootSaga() {\r\n  yield all([\r\n    authSaga(),\r\n    userSaga(),\r\n    writeSaga(),\r\n    postSaga(),\r\n    postsSaga(),\r\n    userInformationSaga(),\r\n    commentSaga(),\r\n  ]);\r\n}\r\n\r\nexport default persistReducer(\r\n  persistConfig,\r\n  rootReducer\r\n);\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components';\r\n\r\nconst ResponsiveBlock = styled.div`\r\n    margin: 0 auto;\r\n\r\n    h2 {\r\n        margin-bottom: 3rem;\r\n    }\r\n\r\n    ${(props) =>\r\n        props.gnb &&\r\n        css`\r\n            width: 1200px;\r\n            @media (max-width: 1580px) {\r\n                width: 768px;\r\n            }\r\n        `}\r\n\r\n    ${(props) =>\r\n        props.main &&\r\n        css`\r\n            width: 60%;\r\n        `}\r\n\r\n    @media (max-width: 768px) {\r\n        width: 95%;\r\n    }\r\n`;\r\n\r\nconst Responsive = ({ children, ...rest }) => {\r\n    return <ResponsiveBlock {...rest}>{children}</ResponsiveBlock>;\r\n};\r\n\r\nexport default Responsive;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Responsive from './Responsive';\r\nimport { withRouter } from 'react-router';\r\nimport { BiUserCircle } from 'react-icons/bi';\r\n\r\nconst GnbBlock = styled.div`\r\n    position: fixed;\r\n    width: 100%;\r\n    background: white;\r\n    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\r\n    z-index: 999;\r\n\r\n    .user-icon {\r\n        position: relative;\r\n        cursor: pointer;\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        .icon {\r\n            width: 40px;\r\n            height: 40px;\r\n            padding-left: 0.3rem;\r\n        }\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled(Responsive)`\r\n    height: 4rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 80%;\r\n    .left {\r\n        font-size: 1.125rem;\r\n        font-weight: bold;\r\n        letter-spacing: 3px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .right {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst Spacer = styled.div`\r\n    height: 4rem;\r\n`;\r\n\r\nexport const GnbUserIcon = ({ onClickUser, usernameRef, user, gnbMenu }) => {\r\n    return (\r\n        <>\r\n            <div className=\"user-icon\" onClick={onClickUser} ref={usernameRef}>\r\n                <div>{user.username} </div>\r\n                <BiUserCircle className=\"icon\" />\r\n            </div>\r\n            {gnbMenu}\r\n        </>\r\n    );\r\n};\r\n\r\nconst Gnb = ({ history, gnbUserIcon }) => {\r\n    return (\r\n        <>\r\n            <GnbBlock>\r\n                <Wrapper gnb>\r\n                    <div\r\n                        className=\"left\"\r\n                        onClick={() => {\r\n                            history.push('/');\r\n                        }}\r\n                    >\r\n                        KeyKey world\r\n                    </div>\r\n                    <div className=\"right\">{gnbUserIcon}</div>\r\n                </Wrapper>\r\n            </GnbBlock>\r\n            <Spacer />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(Gnb);\r\n","const palette = {\r\n  green: [\r\n    \"#ebfbee\",\r\n    \"#d3f9d8\",\r\n    \"#b2f2bb\",\r\n    \"#8ce99a\",\r\n    \"#69db7c\",\r\n    \"#51cf66\",\r\n    \"#40c057\",\r\n    \"#37b24d\",\r\n    \"#2f9e44\",\r\n    \"#2b8a3e\",\r\n  ],\r\n  lime: [\r\n    \"#f4fce3\",\r\n    \"#e9fac8\",\r\n    \"#d8f5a2\",\r\n    \"#c0eb75\",\r\n    \"#a9e34b\",\r\n    \"#94d82d\",\r\n    \"#82c91e\",\r\n    \"#74b816\",\r\n    \"#66a80f\",\r\n    \"#5c940d\",\r\n  ],\r\n  yellow: [\r\n    \"#fff9db\",\r\n    \"#fff3bf\",\r\n    \"#ffec99\",\r\n    \"#ffe066\",\r\n    \"#ffd43b\",\r\n    \"#fcc419\",\r\n    \"#fab005\",\r\n    \"#f59f00\",\r\n    \"#f08c00\",\r\n    \"#e67700\",\r\n  ],\r\n  orange: [\r\n    \"#fff4e6\",\r\n    \"#ffe8cc\",\r\n    \"#ffd8a8\",\r\n    \"#ffc078\",\r\n    \"#ffa94d\",\r\n    \"#ff922b\",\r\n    \"#fd7e14\",\r\n    \"#f76707\",\r\n    \"#e8590c\",\r\n    \"#d9480f\",\r\n  ],\r\n  gray: [\r\n    \"#f8f9fa\",\r\n    \"#f1f3f5\",\r\n    \"#e9ecef\",\r\n    \"#dee2e6\",\r\n    \"#ced4da\",\r\n    \"#adb5bd\",\r\n    \"#868e96\",\r\n    \"#495057\",\r\n    \"#343a40\",\r\n    \"#212529\",\r\n  ],\r\n  red: [\r\n    \"#fff5f5\",\r\n    \"#ffe3e3\",\r\n    \"#ffc9c9\",\r\n    \"#ffa8a8\",\r\n    \"#ff8787\",\r\n    \"#ff6b6b\",\r\n    \"#fa5252\",\r\n    \"#f03e3e\",\r\n    \"#e03131\",\r\n    \"#c92a2a\",\r\n  ],\r\n  pink: [\r\n    \"#fff0f6\",\r\n    \"#ffdeeb\",\r\n    \"#fcc2d7\",\r\n    \"#faa2c1\",\r\n    \"#f783ac\",\r\n    \"#f06595\",\r\n    \"#e64980\",\r\n    \"#d6336c\",\r\n    \"#c2255c\",\r\n    \"#a61e4d\",\r\n  ],\r\n  grape: [\r\n    \"#f8f0fc\",\r\n    \"#f3d9fa\",\r\n    \"#eebefa\",\r\n    \"#e599f7\",\r\n    \"#da77f2\",\r\n    \"#cc5de8\",\r\n    \"#be4bdb\",\r\n    \"#ae3ec9\",\r\n    \"#9c36b5\",\r\n    \"#862e9c\",\r\n  ],\r\n  violet: [\r\n    \"#f3f0ff\",\r\n    \"#e5dbff\",\r\n    \"#d0bfff\",\r\n    \"#b197fc\",\r\n    \"#9775fa\",\r\n    \"#845ef7\",\r\n    \"#7950f2\",\r\n    \"#7048e8\",\r\n    \"#6741d9\",\r\n    \"#5f3dc4\",\r\n  ],\r\n  indigo: [\r\n    \"#edf2ff\",\r\n    \"#dbe4ff\",\r\n    \"#bac8ff\",\r\n    \"#91a7ff\",\r\n    \"#748ffc\",\r\n    \"#5c7cfa\",\r\n    \"#4c6ef5\",\r\n    \"#4263eb\",\r\n    \"#3b5bdb\",\r\n    \"#364fc7\",\r\n  ],\r\n  blue: [\r\n    \"#e7f5ff\",\r\n    \"#d0ebff\",\r\n    \"#a5d8ff\",\r\n    \"#74c0fc\",\r\n    \"#4dabf7\",\r\n    \"#339af0\",\r\n    \"#228be6\",\r\n    \"#1c7ed6\",\r\n    \"#1971c2\",\r\n    \"#1864ab\",\r\n  ],\r\n  cyan: [\r\n    \"#e3fafc\",\r\n    \"#c5f6fa\",\r\n    \"#99e9f2\",\r\n    \"#66d9e8\",\r\n    \"#3bc9db\",\r\n    \"#22b8cf\",\r\n    \"#15aabf\",\r\n    \"#1098ad\",\r\n    \"#0c8599\",\r\n    \"#0b7285\",\r\n  ],\r\n  teal: [\r\n    \"#e6fcf5\",\r\n    \"#c3fae8\",\r\n    \"#96f2d7\",\r\n    \"#63e6be\",\r\n    \"#38d9a9\",\r\n    \"#20c997\",\r\n    \"#12b886\",\r\n    \"#0ca678\",\r\n    \"#099268\",\r\n  ],\r\n};\r\n\r\nexport default palette;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst GnbMenuBlock = styled.div`\r\n  position: absolute;\r\n\r\n  .menu-wrapper {\r\n    position: relative;\r\n    width: 170px;\r\n    height: auto;\r\n    background: white;\r\n    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.2);\r\n    top: 5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n    outline: 1px solid ${palette.gray[3]};\r\n  }\r\n  .menu {\r\n    width: 150px;\r\n    background: white;\r\n    li {\r\n      padding: 0.5rem 1rem;\r\n      cursor: pointer;\r\n      border-top: 1px solid #d2d2d7;\r\n      z-index: 999;\r\n    }\r\n\r\n    li:hover {\r\n      background-color: ${palette.blue[1]};\r\n    }\r\n    li:first-child {\r\n      border-top: none;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    .menu-wrapper {\r\n      position: fixed;\r\n      left: 0;\r\n      top: 4rem;\r\n      width: 100%;\r\n    }\r\n    .menu {\r\n      width: 100%;\r\n      border-bottom: 1px solid #d2d2d7;\r\n      text-align: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst GnbMenu = ({ outsideRef, history, onLogout, user }) => {\r\n  return (\r\n    <GnbMenuBlock>\r\n      <div className=\"menu-wrapper\">\r\n        <ul className=\"menu\" ref={outsideRef}>\r\n          <li\r\n            onClick={() => {\r\n              history.push(`/userInfo?username=${user.username}&meFlag=true`);\r\n            }}\r\n          >\r\n            My Info\r\n          </li>\r\n          <li\r\n            onClick={() => {\r\n              history.push('/write');\r\n            }}\r\n          >\r\n            Write\r\n          </li>\r\n          <li style={{ color: 'red' }} onClick={onLogout}>\r\n            Log Out\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </GnbMenuBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(GnbMenu);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled, { css } from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst ButtonBlock = styled.button`\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  background: ${palette.blue[5]};\r\n  color: white;\r\n  font-size: 1rem;\r\n  padding: 0.25rem 1rem;\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n  &:hover {\r\n    background: ${palette.blue[4]};\r\n  }\r\n  & + button {\r\n    margin-left: 1rem;\r\n  }\r\n\r\n  ${props =>\r\n    props.fullWidth &&\r\n    css`\r\n      margin-top: 1rem;\r\n      padding-top: 0.7rem;\r\n      padding-bottom: 0.7rem;\r\n      font-size: 1.2rem;\r\n      width: 100%;\r\n    `}\r\n`;\r\n\r\nconst Button = ({ to, history, ...rest }) => {\r\n  const onClick = e => {\r\n    if (to) {\r\n      history.push(to);\r\n    }\r\n\r\n    if (rest.onClick) {\r\n      rest.onClick(e);\r\n    }\r\n  };\r\n  return <ButtonBlock {...rest} onClick={onClick} />;\r\n};\r\n\r\nexport default withRouter(Button);\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport const useMenu = (ref1, ref2) => {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function handleClickOutside({ target }) {\r\n      if (\r\n        ref1.current &&\r\n        !ref1.current.contains(target) &&\r\n        !ref2.current.contains(target)\r\n      ) {\r\n        setIsMenuOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [ref1, ref2]);\r\n\r\n  return [isMenuOpen, setIsMenuOpen];\r\n};\r\n","import React, { useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport Gnb, { GnbUserIcon } from '../components/common/Gnb';\r\nimport { logout } from '../modules/user';\r\nimport GnbMenu from '../components/common/GnbMenu';\r\nimport Button from '../components/common/Button';\r\nimport { useMenu } from '../lib/useMenu';\r\n\r\nconst GnbContainer = ({ history }) => {\r\n    const { user } = useSelector(({ user }) => ({ user: user.user }));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const outsideRef = useRef(null);\r\n    const usernameRef = useRef(null);\r\n    const [isMenuOpen, setIsMenuOpen] = useMenu(outsideRef, usernameRef);\r\n\r\n    const handleLogout = () => {\r\n        dispatch(logout());\r\n        history.push('/');\r\n    };\r\n\r\n    const onClickUser = () => {\r\n        setIsMenuOpen(!isMenuOpen);\r\n    };\r\n\r\n    return (\r\n        <Gnb\r\n            user={user}\r\n            gnbUserIcon={\r\n                user ? (\r\n                    <GnbUserIcon\r\n                        onClickUser={onClickUser}\r\n                        usernameRef={usernameRef}\r\n                        user={user}\r\n                        gnbMenu={isMenuOpen && <GnbMenu outsideRef={outsideRef} onLogout={handleLogout} user={user} />}\r\n                    />\r\n                ) : (\r\n                    <Button to=\"/login\"></Button>\r\n                )\r\n            }\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(GnbContainer);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { withRouter } from 'react-router';\r\nimport palette from '../../lib/palette';\r\n\r\nconst PopupMenuBlock = styled.div`\r\n  .menu-wrapper {\r\n    background: white;\r\n    box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.2);\r\n    display: flex;\r\n    justify-content: center;\r\n    position: absolute;\r\n    overflow: auto;\r\n    outline: 1px solid;\r\n  }\r\n  .menu {\r\n    width: 5.1rem;\r\n    font-size: 0.75rem;\r\n    background: white;\r\n    li {\r\n      z-index: 999;\r\n      padding: 0.3rem 0.4rem;\r\n      cursor: pointer;\r\n      border-top: 1px solid #d2d2d7;\r\n    }\r\n    li:hover {\r\n      background-color: ${palette.blue[4]};\r\n      color: white;\r\n    }\r\n    li:first-child {\r\n      border-top: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PopupMenu = ({\r\n  history,\r\n  postUsername,\r\n  onClickUser,\r\n  onGetUserInfo,\r\n  loginUser,\r\n  outsideRef,\r\n}) => {\r\n  const onClick = () => {\r\n    const loginUsername = loginUser.username ;\r\n    history.push(`/userInfo?username=${postUsername}&meFlag=${loginUsername === postUsername}`);\r\n  };\r\n\r\n  return (\r\n    <PopupMenuBlock>\r\n      <div className=\"menu-wrapper\">\r\n        <ul className=\"menu\" ref={outsideRef}>\r\n          {loginUser && <li onClick={onClick}></li>}\r\n          <li\r\n            onClick={() => {\r\n              history.push(`/?username=${postUsername}`);\r\n              onClickUser();\r\n            }}\r\n          >\r\n            \r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </PopupMenuBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(PopupMenu);\r\n","import React, { useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { withRouter } from 'react-router';\r\nimport palette from '../../lib/palette';\r\nimport PopupMenu from '../common/PopupMenu';\r\nimport { useMenu } from '../../lib/useMenu';\r\n\r\nconst PostItemBlock = styled.div`\r\n    margin-top: 0.5rem;\r\n    margin-left: 0.5rem;\r\n    margin-right: 0.5rem;\r\n    border-bottom: 1px solid ${palette.gray[3]};\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0.4rem 0;\r\n    color: ${palette.gray[7]};\r\n    .contents {\r\n        flex: 1;\r\n        cursor: pointer;\r\n        strong {\r\n            font-size: 1.1rem;\r\n            color: ${palette.gray[9]};\r\n        }\r\n        &:hover {\r\n            strong {\r\n                text-decoration: underline;\r\n            }\r\n        }\r\n        div {\r\n            max-width: 95%;\r\n            margin-top: 1rem;\r\n            font-size: 0.8rem;\r\n            word-break: break-all;\r\n        }\r\n    }\r\n\r\n    .info {\r\n        display: flex;\r\n        width: 20%;\r\n        font-size: 0.75rem;\r\n        color: ${palette.gray[5]};\r\n\r\n        .writer {\r\n            position: relative;\r\n            display: flex;\r\n            justify-content: flex-start;\r\n            flex: 1;\r\n            cursor: pointer;\r\n            &:hover {\r\n                text-decoration: underline;\r\n            }\r\n        }\r\n\r\n        .date {\r\n            display: flex;\r\n            justify-content: flex-start;\r\n        }\r\n    }\r\n\r\n    .popupMenu {\r\n        position: absolute;\r\n        top: 1.2rem;\r\n        left: 0;\r\n    }\r\n\r\n    @media (max-width: 1580px) {\r\n        .info {\r\n            flex-direction: column;\r\n            align-items: flex-end;\r\n            width: 25%;\r\n            div {\r\n                padding: 0.1rem;\r\n            }\r\n        }\r\n    }\r\n\r\n    @media (max-width: 425px) {\r\n        align-items: flex-start;\r\n        .date {\r\n            display: none;\r\n        }\r\n    }\r\n`;\r\n\r\nconst PostItem = ({ post, history, loginUser, onGetUserInfo }) => {\r\n    const { title, body, user, _id, createDate } = post;\r\n\r\n    const outsideRef = useRef(null);\r\n    const usernameRef = useRef(null);\r\n    const [isMenuOpen, setIsMenuOpen] = useMenu(outsideRef, usernameRef);\r\n\r\n    const onClickUser = () => {\r\n        setIsMenuOpen(!isMenuOpen);\r\n    };\r\n\r\n    return (\r\n        <PostItemBlock>\r\n            <div\r\n                className=\"contents\"\r\n                onClick={() => {\r\n                    history.push(`/${user.username}/${_id}`);\r\n                }}\r\n            >\r\n                <strong>{title}</strong>\r\n                <div>{body.length === 150 ? `${body}...more` : body}</div>\r\n            </div>\r\n            <div className=\"info\">\r\n                <div className=\"writer\" onClick={onClickUser} ref={usernameRef}>\r\n                    {user.username}\r\n                    <div className=\"popupMenu\">\r\n                        {isMenuOpen && (\r\n                            <PopupMenu\r\n                                loginUser={loginUser}\r\n                                postUsername={user.username}\r\n                                onClickUser={onClickUser}\r\n                                outsideRef={outsideRef}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"date\">{createDate}</div>\r\n            </div>\r\n        </PostItemBlock>\r\n    );\r\n};\r\n\r\nconst PostList = ({ posts, loading, history, loginUser, onGetUserInfo }) => {\r\n    return (\r\n        <>\r\n            {!loading &&\r\n                posts &&\r\n                posts.map((post) => (\r\n                    <PostItem post={post} key={post._id} history={history} loginUser={loginUser}/>\r\n                ))}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(PostList);\r\n","import React from 'react';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst SearchBoxBlock = styled.div`\r\n\r\n\r\n    .contentSearch {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n    }\r\n    .searchSelect {\r\n        display: flex;\r\n        align-items: center;\r\n        border-radius: 4px;\r\n        box-shadow: inset 0px 1px 3px rgba(0, 0, 0, 0.15);\r\n        padding-bottom: 0.1rem;\r\n        padding-left: 0.4rem;\r\n        padding-right: 0.4rem;\r\n        font-size: 0.8rem;\r\n        height: 2rem;\r\n    }\r\n\r\n    .searchInput {\r\n        width: 200px;\r\n        border: none;\r\n        margin-left: 0.5rem;\r\n        font-size: 0.8rem;\r\n        border: 0;\r\n        border-radius: 4px;\r\n        padding: 0.5rem;\r\n        outline: none;\r\n        background-color: ${palette.gray[2]};\r\n        box-shadow: inset 0px 1px 3px rgba(0, 0, 0, 0.15);\r\n    }\r\n\r\n    input[type='search']::-webkit-search-cancel-button {\r\n        -webkit-appearance: none;\r\n        height: 1rem;\r\n        width: 1rem;\r\n        outline: none;\r\n        content: url(https://www.tomatopt.work/img/flat-clear.png);\r\n        cursor: pointer;\r\n    }\r\n\r\n    .searchBtn {\r\n        border: none;\r\n        background: none;\r\n        color: black;\r\n        cursor: pointer;\r\n        &:hover {\r\n            background: none;\r\n        }\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nconst SearchBox = ({ onChangeOption, option, onChangeinput, searchKeyword, onSubmit }) => {\r\n    return (\r\n        <SearchBoxBlock>\r\n            <form className=\"contentSearch\" onSubmit={onSubmit}>\r\n                <select onChange={onChangeOption} defaultValue={option} className=\"searchSelect\">\r\n                    <option value=\"title\"></option>\r\n                    <option value=\"content\"></option>\r\n                </select>\r\n                <input\r\n                    onChange={onChangeinput}\r\n                    value={searchKeyword}\r\n                    className=\"searchInput\"\r\n                    placeholder=\"\"\r\n                    type=\"search\"\r\n                />\r\n                <FaSearch size={20} onClick={onSubmit} className=\"searchBtn\" />\r\n            </form>\r\n        </SearchBoxBlock>\r\n    );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst PostHeaderBlock = styled.div`\r\n    padding-left: 2px;\r\n    padding-right: 2px;\r\n    padding-bottom: 0.5rem;\r\n    width: 100%;\r\n    display: flex;\r\n    line-height: 1rem;\r\n    border-width: 0 0 1px 0;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-bottom: 2px solid black;\r\n\r\n    .icon {\r\n        color: white;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 25px;\r\n        background: ${palette.blue[5]};\r\n        width: 35px;\r\n        height: 35px;\r\n        font-size: 1rem;\r\n        box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.3);\r\n        cursor: pointer;\r\n    }\r\n\r\n    button {\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        background-color: white;\r\n        &:hover {\r\n            background-color: white;\r\n        }\r\n    }\r\n`;\r\n\r\nconst PostHeader = ({ searchKeyword, option, onChangeinput, onChangeOption, onSubmit, writeButton }) => {\r\n    return (\r\n        <PostHeaderBlock>\r\n            <SearchBox\r\n                searchKeyword={searchKeyword}\r\n                option={option}\r\n                onChangeinput={onChangeinput}\r\n                onChangeOption={onChangeOption}\r\n                onSubmit={onSubmit}\r\n            />\r\n            {writeButton}\r\n        </PostHeaderBlock>\r\n    );\r\n};\r\n\r\nexport default PostHeader;\r\n","import moment from 'moment';\r\n\r\nexport const formatDate = (date) => {\r\n  const formatedDate = moment(date).format('YYYY-MM-DD HH:mm');\r\n  return formatedDate;\r\n};\r\n\r\nexport const formatDate_day = (date) => {\r\n  const formatDate_day = moment(date).format('YYYY-MM-DD');\r\n  return formatDate_day;\r\n};\r\n\r\nexport const registedPeriod = (date) => {\r\n  const now = new Date();\r\n  const registDate = new Date(date).getTime();\r\n\r\n  return Math.ceil((now - registDate) / (1000 * 60 * 60 * 24));\r\n};\r\n","import moment from \"moment\";\r\nimport { formatDate, formatDate_day } from \"../format\";\r\n\r\nexport function timeCalculation(date) {\r\n    const today = moment(new Date());\r\n    const postDate = formatDate(date);\r\n    let betweenTime = today.diff(postDate, 'hours');\r\n    if (betweenTime > 23) return (betweenTime = formatDate_day(date));\r\n    if (betweenTime === 0) {\r\n      return (betweenTime = today.diff(postDate, 'minutes') + ' ');\r\n    }\r\n\r\n    return betweenTime + ' ';\r\n  }","import QueryString from \"qs\";\r\n\r\nexport function setTitle(param) {\r\n    const {tag, username, searchKeyword} = QueryString.parse(param, {\r\n        ignoreQueryPrefix: true,\r\n    });\r\n\r\n    if (searchKeyword) return `'${searchKeyword}'`;\r\n    if (username) return `${username}`;\r\n    if (tag) return `#${tag}`;\r\n\r\n    return 'NYI Blog';\r\n}","import React, { useEffect, useState } from 'react';\r\nimport qs from 'qs';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport PostList from '../components/posts/PostList';\r\nimport { postsList } from '../modules/posts';\r\nimport PostHeader from '../components/posts/PostHeader';\r\nimport { FaPen } from 'react-icons/fa';\r\nimport { timeCalculation } from '../lib/common/aboutTime';\r\nimport { setTitle } from '../lib/postList/setTitle_Content';\r\n\r\nconst PostListContainer = ({ location, history }) => {\r\n    const dispatch = useDispatch();\r\n    const { posts, loading, user, error } = useSelector(({ posts, loading, user }) => ({\r\n        posts: posts.posts,\r\n        error: posts.error,\r\n        loading: loading['posts/LIST_POSTS'],\r\n        user: user.user,\r\n    }));\r\n\r\n    const [searchKeyword, setSearchkeyword] = useState('');\r\n    const [option, setOption] = useState('title');\r\n\r\n    const onChangeinput = (e) => {\r\n        setSearchkeyword(e.target.value);\r\n    };\r\n\r\n    const onChangeOption = (e) => {\r\n        setOption(e.target.value);\r\n    };\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const url = qs.stringify({ option, searchKeyword });\r\n        history.push(`/?${url}`);\r\n    };\r\n\r\n    useEffect(() => {\r\n        location.search === '' && setSearchkeyword('');\r\n    }, [location.search]);\r\n\r\n    useEffect(() => {\r\n        const { option, searchKeyword, tag, username, page } = qs.parse(location.search, {\r\n            ignoreQueryPrefix: true,\r\n        });\r\n        dispatch(postsList({ searchKeyword, option, tag, username, page }));\r\n    }, [dispatch, location.search]);\r\n\r\n    const newPosts = posts && posts.map((p) => ({ ...p, createDate: timeCalculation(p.createDate) }));\r\n\r\n    return (\r\n        <>\r\n            <h2 style={{marginTop: '1rem'}}>{setTitle(location.search)}</h2>\r\n            <PostHeader\r\n                searchKeyword={searchKeyword}\r\n                option={option}\r\n                onChangeinput={onChangeinput}\r\n                onChangeOption={onChangeOption}\r\n                onSubmit={onSubmit}\r\n                writeButton={\r\n                    user && (\r\n                        <Link className=\"icon\" to=\"/write\">\r\n                            <FaPen />\r\n                        </Link>\r\n                    )\r\n                }\r\n            />\r\n            <PostList loading={loading} posts={newPosts} error={error} loginUser={user}/>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(PostListContainer);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport qs from 'qs';\r\nimport { withRouter } from 'react-router';\r\nimport Button from '../common/Button';\r\nimport palette from '../../lib/palette';\r\n\r\nconst PagingBlock = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 2rem;\r\n\r\n  button {\r\n    border: none;\r\n    outline: none;\r\n    cursor: pointer;\r\n    background: white;\r\n    color: black;\r\n    padding: 0.25rem 1rem;\r\n    font-weight: 500;\r\n    &:hover {\r\n      background: none;\r\n      text-decoration: underline;\r\n    }\r\n\r\n    &:disabled {\r\n      color: ${palette.gray[6]};\r\n      cursor: default;\r\n      &:hover {\r\n        text-decoration: none;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n  .currentPage {\r\n    color: ${palette.blue[5]};\r\n    font-weight: bold;\r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n  @media (max-width: 450px) {\r\n    button {\r\n      padding: 0.25rem 0.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst clickPage = ({ page }) => {\r\n  const query = qs.stringify({ page });\r\n  return `/?${query}`;\r\n};\r\nconst PostPaging = ({\r\n  option,\r\n  searchKeyword,\r\n  tag,\r\n  page,\r\n  username,\r\n  lastPage,\r\n  history,\r\n}) => {\r\n  const goPage = page => {\r\n    const PAGE = page.target.innerText;\r\n    const url = qs.stringify({\r\n      option,\r\n      searchKeyword,\r\n      tag,\r\n      page: PAGE,\r\n      username,\r\n    });\r\n    history.push(`/?${url}`);\r\n  };\r\n\r\n  let counter = [];\r\n\r\n  for (let i = 1; i < lastPage + 1; i++) {\r\n    counter.push(\r\n      <Button\r\n        key={i}\r\n        onClick={goPage}\r\n        className={i === page ? 'currentPage' : ''}\r\n      >\r\n        {i}\r\n      </Button>\r\n    );\r\n  }\r\n\r\n  const prePage = page === 1 ? undefined : clickPage({ page: page - 1 });\r\n  const nextPage =\r\n    page === lastPage ? undefined : clickPage({ page: page + 1 });\r\n  if (lastPage === 0) return '';\r\n  return (\r\n    <PagingBlock>\r\n      <Button disabled={page === 1} to={prePage}>\r\n        \r\n      </Button>\r\n      {counter}\r\n      <Button disabled={page === lastPage} to={nextPage}>\r\n        \r\n      </Button>\r\n    </PagingBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(PostPaging);\r\n","import React from 'react';\r\nimport PostPaging from '../components/posts/PostPaging';\r\nimport { useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport qs from 'qs';\r\n\r\nconst PagingContainer = ({ location }) => {\r\n  const { lastPage, posts, loading } = useSelector(({ posts, loading }) => ({\r\n    lastPage: posts.lastPage,\r\n    posts: posts.posts,\r\n    loading: loading['posts/POST_LIST'],\r\n  }));\r\n  if (!posts || loading) return null;\r\n  const {\r\n    searchKeyword,\r\n    option,\r\n    username,\r\n    tag,\r\n    page = 1,\r\n  } = qs.parse(location.search, {\r\n    ignoreQueryPrefix: true,\r\n  });\r\n  return (\r\n    <PostPaging\r\n      searchKeyword={searchKeyword}\r\n      option={option}\r\n      tag={tag}\r\n      username={username}\r\n      page={parseInt(page, 10)}\r\n      lastPage={lastPage}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(PagingContainer);\r\n","import React from 'react';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport PostListContainer from '../containers/PostListContainer';\r\nimport PagingContainer from '../containers/PagingContainer';\r\nimport Template from '../components/common/Responsive';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst PostListPage = () => {\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>KeyKey World</title>\r\n            </Helmet>\r\n            <GnbContainer />\r\n            <div style={{ height: 'calc(80vh)', overflowY: 'auto' }}>\r\n                <Template main>\r\n                    <PostListContainer />\r\n                </Template>\r\n            </div>\r\n            <div style={{ width: '60%', margin: '0 auto' }}>\r\n                <PagingContainer />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default PostListPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst AuthTemplateBlock = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 80vh;\r\n`;\r\n\r\nconst WhiteBox = styled.div`\r\n  background: white;\r\n  width: 360px;\r\n  border-radius: 4px;\r\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);\r\n  .logo {\r\n    display: block;\r\n    text-align: center;\r\n    font-weight: bold;\r\n    letter-spacing: 2px;\r\n    padding-bottom: 2rem;\r\n  }\r\n  padding: 2rem;\r\n\r\n  @media (max-width: 450px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst AuthTemplate = ({ children }) => {\r\n  return (\r\n    <AuthTemplateBlock>\r\n      <WhiteBox>\r\n        <div className=\"logo\">Welcome to NYI</div>\r\n        {children}\r\n      </WhiteBox>\r\n    </AuthTemplateBlock>\r\n  );\r\n};\r\n\r\nexport default AuthTemplate;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport palette from \"../../lib/palette\";\r\nimport Button from \"../common/Button\";\r\n\r\nconst AuthFormBlock = styled.div`\r\n  h3 {\r\n    margin: 0;\r\n    color: ${palette.gray[7]};\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  font-size: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  border-bottom: 1px solid ${palette.gray[3]};\r\n  border-radius: 4px;\r\n  padding: 0.5rem;\r\n  width: 100%;\r\n  padding-top: 0.6rem;\r\n  padding-bottom: 0.6rem;\r\n  box-sizing: border-box;\r\n\r\n  &:focus {\r\n    border: 1px solid ${palette.grape[4]};\r\n  }\r\n\r\n  & + & {\r\n    margin-top: 1rem;\r\n  }\r\n`;\r\n\r\nconst Footer = styled.div`\r\n  margin-top: 2rem;\r\n  text-align: right;\r\n  font-size: 0.8rem;\r\n  a {\r\n    text-decoration: none;\r\n    color: ${palette.gray[6]};\r\n    &:hover {\r\n      color: ${palette.gray[9]};\r\n    }\r\n  }\r\n`;\r\n\r\nconst ErrorBlock = styled.div`\r\n  color: red;\r\n  font-size: 0.8rem;\r\n  margin-top: 1rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst textMap = {\r\n  login: \"LOG IN\",\r\n  register: \"REGISTER\",\r\n};\r\n\r\nconst AuthForm = ({ type, form, onChange, onSubmit, error }) => {\r\n  const title = textMap[type];\r\n  return (\r\n    <AuthFormBlock>\r\n      <h3>{title}</h3>\r\n      <form onSubmit={onSubmit}>\r\n        <StyledInput\r\n          placeholder=\"username\"\r\n          name=\"username\"\r\n          onChange={onChange}\r\n          value={form.username}\r\n        />\r\n        <StyledInput\r\n          placeholder=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          onChange={onChange}\r\n          value={form.password}\r\n        />\r\n        {type === \"register\" && (\r\n          <>\r\n            <StyledInput\r\n              placeholder=\"password confirm\"\r\n              name=\"passwordConfirm\"\r\n              type=\"password\"\r\n              onChange={onChange}\r\n              value={form.passwordConfirm}\r\n            />\r\n            <StyledInput\r\n              placeholder=\"email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              onChange={onChange}\r\n              value={form.email}\r\n            />\r\n            <StyledInput\r\n              placeholder=\"phone\"\r\n              name=\"phone\"\r\n              type=\"tel\"\r\n              onChange={onChange}\r\n              value={form.phone}\r\n            />\r\n          </>\r\n        )}\r\n        {error && <ErrorBlock>{error}</ErrorBlock>}\r\n        <Button fullWidth style={{ marginTop: \"1rem\" }}>\r\n          {title}\r\n        </Button>\r\n      </form>\r\n      <Footer>\r\n        {type === \"login\" ? (\r\n          <Link to=\"/register\">Sign Up</Link>\r\n        ) : (\r\n          <Link to=\"/login\">Log In</Link>\r\n        )}\r\n      </Footer>\r\n    </AuthFormBlock>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ExAuthFormBlock = styled.div`\r\n    div {\r\n        display: flex;\r\n        \r\n    }\r\n    input {\r\n        width: 50px;\r\n        height: 50px;\r\n        margin: 10px;\r\n    }\r\n\r\n\r\n`;\r\n\r\nconst ExAuthForm = ({onClick}) => {\r\n    return (\r\n        <ExAuthFormBlock>\r\n            <div>\r\n                <input type=\"image\" src=\"./img/googleLogo.png\" alt=\"google login\" onClick={onClick}/>\r\n            </div>\r\n        </ExAuthFormBlock>\r\n    );\r\n};\r\n\r\nexport default ExAuthForm;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport AuthForm from '../components/auth/AuthForm';\r\nimport { changeForm, initialize, login } from '../modules/auth';\r\nimport { withRouter } from 'react-router';\r\nimport { check } from '../modules/user';\r\nimport ExAuthForm from '../components/auth/ExAuthForm';\r\n\r\nconst LoginContainer = ({ history }) => {\r\n  const [error, setError] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n    form: auth.login,\r\n    auth: auth.auth,\r\n    authError: auth.authError,\r\n    user: user.user,\r\n  }));\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    dispatch(\r\n      changeForm({\r\n        form: 'login',\r\n        key: name,\r\n        value,\r\n      })\r\n    );\r\n  };\r\n\r\n  const onGoogleLogin = () => {};\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { username, password } = form;\r\n\r\n    if ([username, password].includes('')) {\r\n      setError('');\r\n      return;\r\n    }\r\n    dispatch(login({ username, password }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (auth) {\r\n      dispatch(check());\r\n    }\r\n    if (authError) {\r\n      setError(authError.response.data.message);\r\n      return;\r\n    }\r\n  }, [auth, authError, dispatch]);\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push('/');\r\n      try {\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n      } catch (error) {\r\n        console.log('');\r\n      }\r\n    }\r\n  }, [history, user]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(initialize());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <AuthForm\r\n        type=\"login\"\r\n        form={form}\r\n        onChange={onChange}\r\n        onSubmit={onSubmit}\r\n        error={error}\r\n      />\r\n      <ExAuthForm onGoogleLogin={onGoogleLogin} />\r\n    </>\r\n  );\r\n};\r\nexport default withRouter(LoginContainer);\r\n","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport LoginContainer from '../containers/LoginContainer';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst LoginPage = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n          <title> - KeyKey World</title>\r\n      </Helmet>\r\n      <GnbContainer />\r\n      <AuthTemplate>\r\n        <LoginContainer />\r\n      </AuthTemplate>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport AuthForm from '../components/auth/AuthForm';\r\nimport { changeForm, initializeForm, register } from '../modules/auth';\r\nimport { withRouter } from 'react-router';\r\nimport { check } from '../modules/user';\r\n\r\nconst RegisterContainer = ({ history }) => {\r\n  const [error, setError] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const { form, auth, authError, user } = useSelector(({ auth, user }) => ({\r\n    form: auth.register,\r\n    auth: auth.auth,\r\n    authError: auth.authError,\r\n    user: user.user,\r\n  }));\r\n\r\n  const onChange = (e) => {\r\n    const { value, name } = e.target;\r\n\r\n    dispatch(\r\n      changeForm({\r\n        form: 'register',\r\n        key: name,\r\n        value,\r\n      })\r\n    );\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { username, password, passwordConfirm, email, phone } = form;\r\n\r\n    if (password !== passwordConfirm) {\r\n      setError('');\r\n      return;\r\n    }\r\n\r\n    if ([username, password, passwordConfirm, email].includes('')) {\r\n      setError('');\r\n      return;\r\n    }\r\n    dispatch(\r\n      register({\r\n        username,\r\n        password,\r\n        passwordConfirm,\r\n        email,\r\n        phone,\r\n      })\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(initializeForm('register'));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (auth) {\r\n      dispatch(check());\r\n    }\r\n    if (authError) {\r\n      setError(authError.response.data.message);\r\n    }\r\n  }, [auth, authError, dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push('/');\r\n    }\r\n  }, [history, user]);\r\n\r\n  return (\r\n    <>\r\n      <AuthForm\r\n        type=\"register\"\r\n        form={form}\r\n        onChange={onChange}\r\n        onSubmit={onSubmit}\r\n        error={error}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(RegisterContainer);\r\n","import React from 'react';\r\nimport AuthTemplate from '../components/auth/AuthTemplate';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport RegisterContainer from '../containers/RegisterContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst RegisterPage = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title> - KeyKey World</title>\r\n      </Helmet>\r\n      <GnbContainer />\r\n      <AuthTemplate>\r\n        <RegisterContainer />\r\n      </AuthTemplate>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import Button from '../common/Button';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport { FaRegCommentDots } from 'react-icons/fa';\r\n\r\nconst CommentBlock = styled.div`\r\n  margin-top: 4rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n\r\n  #commentButton {\r\n    font-size: 0.8rem;\r\n    font-weight: normal;\r\n    background-color: white;\r\n    color: ${palette.gray[6]};\r\n    border: 1px solid ${palette.gray[5]};\r\n    padding: 4px 8px 5.5px 8px;\r\n    display: flex;\r\n\r\n    &:hover {\r\n      color: ${palette.gray[5]};\r\n    }\r\n    #text {\r\n      margin-left: -0.07rem;\r\n      margin-right: -0rem;\r\n    }\r\n    #number {\r\n      margin-left: 0.3rem;\r\n      color: ${palette.blue[3]};\r\n      align-self: flex-end;\r\n    }\r\n    .icon {\r\n      margin-right: 0.4rem;\r\n      transform: scaleX(-1);\r\n      align-self: center;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Comment = ({\r\n  loading,\r\n  error,\r\n  onClick,\r\n  commentList,\r\n}) => {\r\n  if (error)\r\n    return (\r\n      <>\r\n        <p></p>\r\n        {console.log(error)}\r\n      </>\r\n    );\r\n  if (loading) return null;\r\n  return (\r\n    <>\r\n      <CommentBlock>\r\n        <Button\r\n          id=\"commentButton\"\r\n          onClick={onClick}\r\n        >\r\n          <FaRegCommentDots className=\"icon\" />\r\n          <span id=\"text\"></span>\r\n          {commentList.length !== 0 ? (\r\n            <span id=\"number\">\r\n              {commentList.length}\r\n            </span>\r\n          ) : null}\r\n        </Button>\r\n      </CommentBlock>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst DeleteModalBlock = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n\r\n  @keyframes fadeInDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate3d(0, -100%, 0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateZ(0);\r\n    }\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .contents {\r\n    position: relative;\r\n    top: 6rem;\r\n    max-width: 18rem;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    border-radius: 0.3rem;\r\n    padding: 16px 64px 16px 16px;\r\n    background-color: #f1f1f1;\r\n\r\n    animation: fadeInDown 0.3s;\r\n  }\r\n  .body {\r\n    text-align: left;\r\n  }\r\n  .footer {\r\n    position: relative;\r\n    right: -3rem;\r\n    text-align: right;\r\n  }\r\n  .modalBtn {\r\n    cursor: pointer;\r\n    color: white;\r\n    border: none;\r\n    width: 75px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border-radius: 4px;\r\n    &:first-child {\r\n      background-color: ${palette.blue[5]};\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n    &:last-child {\r\n      margin-left: 0.5rem;\r\n      color: ${palette.blue[5]};\r\n      background-color: white;\r\n      &:hover {\r\n        background-color: ${palette.blue[1]};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst DeleteModal = ({ onRemove, show, handleDelClose }) => {\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <DeleteModalBlock>\r\n      <div className=\"overlay\" onClick={handleDelClose} />\r\n      <div className=\"contents\">\r\n        <div className=\"body\">\r\n          \r\n        </div>\r\n        <div className=\"footer\">\r\n          <button className=\"modalBtn\" onClick={onRemove}>\r\n            \r\n          </button>\r\n          <button className=\"modalBtn\" onClick={handleDelClose}>\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </DeleteModalBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(DeleteModal);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst UpdateModalBlock = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n\r\n  @keyframes fadeInDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate3d(0, -100%, 0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateZ(0);\r\n    }\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .contents {\r\n    position: relative;\r\n    top: 6rem;\r\n    max-width: 18rem;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    border-radius: 0.3rem;\r\n    padding: 16px 64px 16px 16px;\r\n    background-color: #f1f1f1;\r\n\r\n    animation: fadeInDown 0.3s;\r\n  }\r\n  .body {\r\n    text-align: left;\r\n  }\r\n  .footer {\r\n    position: relative;\r\n    right: -3rem;\r\n    text-align: right;\r\n  }\r\n  .modalBtn {\r\n    cursor: pointer;\r\n    color: white;\r\n    border: none;\r\n    width: 58px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border-radius: 4px;\r\n    &:first-child {\r\n      background-color: ${palette.blue[5]};\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n    &:last-child {\r\n      margin-left: 0.5rem;\r\n      color: ${palette.blue[5]};\r\n      background-color: white;\r\n      &:hover {\r\n        background-color: ${palette.blue[1]};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst UpdateModal = ({ onComEdit, show, handleClose,replyComment,id }) => {\r\n  const[comment,setComment]=useState(replyComment)\r\n    if (!show) return null;\r\n\r\n    const onChange=(e)=>{\r\n        setComment(e.target.value);     \r\n    }\r\n\r\n    const onComEditChange=()=>{\r\n      onComEdit(comment,id);\r\n      console.log(\"COMMENTUPDATE:\"+comment+\"id:\"+id)\r\n    }\r\n\r\n  return (\r\n    <UpdateModalBlock>\r\n      <div className=\"overlay\" onClick={handleClose} />\r\n      <div className=\"contents\">\r\n        <div className=\"body\">\r\n          <p></p>\r\n          <textarea onChange={onChange} value={comment}></textarea>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <button className=\"modalBtn\" onClick={onComEditChange}>\r\n            Update\r\n          </button>\r\n          <button className=\"modalBtn\" onClick={handleClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </UpdateModalBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(UpdateModal);\r\n","import React, { useState } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { formatDate_day } from '../../lib/format';\r\nimport palette from '../../lib/palette';\r\nimport DeleteModal from './DeleteModal';\r\nimport UpdateModal from './UpdateModal';\r\n\r\nconst CommentListBlock = styled.div`\r\n  border-bottom: 1px solid ${palette.gray[3]};\r\n  padding-top: 1rem;\r\n  padding-bottom: 0.5rem;\r\n\r\n  #userAndDate {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    margin-bottom: 0.5rem;\r\n    margin-left: 0.5rem;\r\n    @media (max-width: 260px) {\r\n      display: inline-block;\r\n    }\r\n\r\n    #listUsername {\r\n      margin-right: 0.4rem;\r\n      font-size: 0.9rem;\r\n    }\r\n\r\n    #date {\r\n      font-size: 0.8rem;\r\n      line-height: 1.9;\r\n      color: ${palette.gray[6]};\r\n    }\r\n  }\r\n  #comment {\r\n    margin-left: 0.75rem;\r\n    margin-bottom: 0.5rem;\r\n    width: 98%;\r\n    font-size: 0.8rem;\r\n    line-height: 1.7;\r\n    white-space: pre-wrap;\r\n    word-break: break-all;\r\n  }\r\n\r\n  &:hover {\r\n    ${({ checkUser }) =>\r\n      checkUser &&\r\n      css`\r\n        .visible {\r\n          visibility: visible;\r\n          cursor: pointer;\r\n          margin-left: 0.5rem;\r\n          &:hover {\r\n            color: ${palette.gray[4]};\r\n          }\r\n        }\r\n      `}\r\n  }\r\n\r\n  .userCheck {\r\n    visibility: hidden;\r\n    display: flex;\r\n    font-size: 0.7rem;\r\n    float: right;\r\n    margin-right: 1rem;\r\n    padding: 2px 4px 2px 4px;\r\n    color: ${palette.gray[5]};\r\n  }\r\n`;\r\n\r\nconst CommentList = ({ loginUser, comment,onDelete,onEdit }) => {\r\n\r\n  const { _id,user, createdAt, replyComment } =comment;\r\n  const checkUser = user.username === loginUser;\r\n\r\n\r\n  const [show, setShow] = useState(false);\r\n  const [deleteShow,setDelete]=useState(false);\r\n\r\n  const handleClick = () => setShow(true);\r\n  const handleDelete = () => setDelete(true);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleDelClose = () => setDelete(false);\r\n\r\n  const handleRemove = () =>{\r\n    setDelete(false);\r\n    onDelete(_id);\r\n  }\r\n\r\n  const handleUpdate = (comm) => {\r\n    setShow(false);\r\n    onEdit(comm,_id);\r\n  };\r\n\r\n  return (\r\n    <CommentListBlock checkUser={checkUser}>\r\n      <div className=\"userCheck\">\r\n        <div className=\"visible\" onClick={handleClick}></div>\r\n        <div className=\"visible\" onClick={()=>{checkUser && handleDelete()}}></div>\r\n      </div>\r\n      <div id=\"userAndDate\">\r\n        <div id=\"listUsername\">\r\n          {user.username}\r\n        </div>\r\n        <div id=\"date\">\r\n          {formatDate_day(createdAt)}\r\n        </div>\r\n      </div>\r\n      <div id=\"comment\">{replyComment}</div>\r\n      <UpdateModal onComEdit={handleUpdate} handleClose={handleClose} show={show} replyComment={replyComment} id={_id}/>\r\n      <DeleteModal onRemove={handleRemove}\r\n        handleDelClose={handleDelClose}\r\n        show={deleteShow}/>\r\n    </CommentListBlock>\r\n  );\r\n};\r\n\r\nexport default CommentList;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport CommentList from './CommentList';\r\n\r\nconst StyledSp = styled.p`\r\n  border-bottom: 1px solid ${palette.gray[3]};\r\n  padding-bottom: 0.7rem;\r\n  margin-bottom: 0;\r\n\r\n  span {\r\n    margin-left: 0.3rem;\r\n    color: ${palette.blue[3]};\r\n  }\r\n`;\r\n\r\nconst CommentListWrite = ({\r\n  error,\r\n  click,\r\n  commentList,\r\n  loginUser,\r\n  onDelete,\r\n  onEdit\r\n}) => {\r\n  if (!click) return null;\r\n  if (error)\r\n    return (\r\n      <>\r\n        <p></p>\r\n        {console.log(error)}\r\n      </>\r\n    );\r\n  return (\r\n    <div style={{ marginTop: '1rem' }}>\r\n      <StyledSp>\r\n        \r\n        <span>{commentList.length}</span>\r\n      </StyledSp>\r\n\r\n      {commentList.map((c) => (\r\n        <CommentList\r\n          comment={c}\r\n          key={c._id}\r\n          loginUser={loginUser}\r\n          onDelete={onDelete}\r\n          onEdit={onEdit}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentListWrite;\r\n","export const MAX_TITLE = 20;\r\nexport const MAX_BODY = 400;\r\nexport const MAX_NUM_TAGS = 10;\r\nexport const MAX_COMMENT = 150;\r\n","import React, {\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport Button from '../common/Button';\r\nimport { IoMdCheckmarkCircleOutline } from 'react-icons/io';\r\nimport { MAX_COMMENT } from '../../lib/constants';\r\nimport {\r\n  COMMENT_PLACEHOLDER,\r\n  COMMENT_VALUE,\r\n} from '../../lib/msg';\r\n\r\nconst CommentWriteStyle = styled.div`\r\n  margin-top: 1rem;\r\n  margin-left: 0.5rem;\r\n\r\n  #writeUsername {\r\n    margin-bottom: 0.5rem;\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  textarea {\r\n    width: 97.5%;\r\n    height: 60px;\r\n    border: none;\r\n    outline: none;\r\n    resize: none;\r\n    border: 1px solid ${palette.gray[3]};\r\n    margin-left: 0.25rem;\r\n    padding: 3px 0 0 3px;\r\n    overflow: auto;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nconst StyledButtonBlock = styled.div`\r\n  margin-left: 0.5rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  #textNumber {\r\n    margin-left: 0.25rem;\r\n    font-size: 0.8rem;\r\n    color: ${({ value }) =>\r\n      value.length > MAX_COMMENT\r\n        ? '#ff0000'\r\n        : '#adb5bd'};\r\n  }\r\n\r\n  #writeButton {\r\n    margin-top: 0.5rem;\r\n    font-size: 0.8rem;\r\n    font-weight: normal;\r\n    background-color: white;\r\n    color: ${({ commentLength }) =>\r\n      commentLength ? '#adb5bd' : '#4dabf7'};\r\n    border: 1px solid\r\n      ${({ commentLength }) =>\r\n        commentLength ? '#adb5bd' : '#4dabf7'};\r\n    padding: 4px 8px 4px 8px;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &:hover {\r\n      color: ${({ commentLength }) =>\r\n        commentLength ? '#adb5bd' : '#74c0fc'};\r\n      border: 1px solid\r\n        ${({ commentLength }) =>\r\n          commentLength ? '#adb5bd' : '#74c0fc'};\r\n      cursor: ${({ commentLength }) =>\r\n        commentLength ? 'default' : 'pointer'};\r\n    }\r\n\r\n    .icon {\r\n      margin-right: 0.2rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ButtonBlock = ({\r\n  value,\r\n  username,\r\n  postComment,\r\n  setValue,\r\n  postId,\r\n  commentValue,\r\n}) => {\r\n  const onClick = () => {\r\n    if (commentLength) return;\r\n    postComment(commentValue, postId);\r\n    setValue('');\r\n  };\r\n\r\n  const commentLength =\r\n    value === '' || value.length > MAX_COMMENT;\r\n\r\n  if (!username) return null;\r\n  return (\r\n    <StyledButtonBlock\r\n      commentLength={commentLength}\r\n      value={value}\r\n    >\r\n      <div id=\"textNumber\">\r\n        {value.length}/{MAX_COMMENT}\r\n      </div>\r\n      <Button id=\"writeButton\" onClick={onClick}>\r\n        <IoMdCheckmarkCircleOutline className=\"icon\" />\r\n        \r\n      </Button>\r\n    </StyledButtonBlock>\r\n  );\r\n};\r\n\r\nconst CommentWrite = ({\r\n  click,\r\n  loginUser,\r\n  onChange,\r\n  postComment,\r\n  post,\r\n  commentValue,\r\n}) => {\r\n  const [value, setValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    onChange(value);\r\n  }, [onChange, value]);\r\n\r\n  useEffect(() => {\r\n    setValue('');\r\n  }, [click]);\r\n\r\n  if (!click) return null;\r\n  return (\r\n    <>\r\n      <CommentWriteStyle>\r\n        <div>\r\n          <div id=\"writeUsername\">\r\n            {loginUser}\r\n          </div>\r\n          <textarea\r\n            placeholder={COMMENT_PLACEHOLDER}\r\n            value={\r\n              loginUser ? value : COMMENT_VALUE\r\n            }\r\n            onChange={(e) => {\r\n              setValue(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n      </CommentWriteStyle>\r\n      <ButtonBlock\r\n        value={value}\r\n        username={loginUser}\r\n        setValue={setValue}\r\n        postComment={postComment}\r\n        postId={post && post.id}\r\n        commentValue={commentValue}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default CommentWrite;\r\n","export const WARNING_TAG_1 = '';\r\n\r\nexport const WARNING_TAG_2 =\r\n  '10';\r\n\r\nexport const SUBMIT_BT_WARN =\r\n  '';\r\n\r\nexport const SUBMIT_BT_TITLE = '';\r\n\r\nexport const CANCEL_BT_TITLE = '';\r\n\r\nexport const TAG_PLACEHOLDER =\r\n  '#_15';\r\n\r\nexport const TITLE_PLACEHOLDER =\r\n  '';\r\n\r\nexport const BODY_PLACEHOLDER =\r\n  '';\r\n\r\nexport const COMMENT_VALUE =\r\n  '';\r\n\r\nexport const COMMENT_PLACEHOLDER =\r\n  '...';\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  useSelector,\r\n  useDispatch,\r\n} from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Comment from '../components/comment/Comment';\r\nimport CommentListWrite from '../components/comment/CommentListWrite';\r\nimport CommentWrite from '../components/comment/CommentWrite';\r\nimport {\r\n  changeComment,\r\n  removeComment,\r\n  updateComment,\r\n  writeComment,\r\n} from '../modules/comment';\r\n\r\n\r\nconst CommentContainer = ({match}) => {\r\n  const { postId } = match.params;\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  const {\r\n    loginUser,\r\n    post,\r\n    commentInput,\r\n    commentList,\r\n    error,\r\n    loading,\r\n  } = useSelector(\r\n    ({ user, post, comment, loading }) => ({\r\n      loginUser: user.user,\r\n      post: post.post,\r\n      commentInput: comment.commentInput,\r\n      commentList: comment.commentList,\r\n      error: comment.error,\r\n      loading: loading['post/GET_POST'],\r\n    })\r\n  );\r\n\r\n  const [click, setClick] = useState(false);\r\n\r\n  const onClick = () => {\r\n    setClick(!click);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setClick(false);\r\n  }, [post]);\r\n\r\n  const onDelete=async(id)=>{\r\n    try {\r\n      await dispatch(removeComment({postId,commentId:id}));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n    const onEdit = useCallback((com,id)=>{\r\n      dispatch(updateComment({postId,commentId:id,replyComment:com}));   \r\n    },[dispatch,postId])\r\n\r\n  const onChange = useCallback(\r\n    (value) => {\r\n      dispatch(changeComment(value));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const postComment = useCallback(() => {\r\n    const { _id: postId } = post;\r\n    dispatch(\r\n      writeComment({ commentInput, postId })\r\n    );\r\n  }, [dispatch, post, commentInput]);\r\n\r\n  return (\r\n    <>\r\n      <Comment\r\n        loading={loading}\r\n        onClick={onClick}\r\n        commentList={commentList}\r\n        error={error}\r\n      ></Comment>\r\n      <CommentListWrite\r\n        click={click}\r\n        error={error}\r\n        commentList={commentList}\r\n        loginUser={\r\n          loginUser && loginUser.username\r\n        }\r\n        onDelete={onDelete}\r\n        onEdit={onEdit}\r\n      />\r\n      <CommentWrite\r\n        click={click}\r\n        loginUser={\r\n          loginUser && loginUser.username\r\n        }\r\n        onChange={onChange}\r\n        postComment={postComment}\r\n        post={post}\r\n        commentValue={commentInput}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(CommentContainer);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst ErrorModalBlock = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n\r\n  @keyframes fadeInDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate3d(0, -100%, 0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateZ(0);\r\n    }\r\n  }\r\n\r\n  .contents {\r\n    position: relative;\r\n    top: 2rem;\r\n    width: 90%;\r\n    max-width: 20rem;\r\n    margin: 0 auto;\r\n    border-radius: 0.3rem;\r\n    padding: 16px 64px 16px 16px;\r\n    background-color: #f1f1f1;\r\n\r\n    animation: fadeInDown 0.5s;\r\n  }\r\n  .body {\r\n    text-align: left;\r\n  }\r\n  .footer {\r\n    position: relative;\r\n    right: -2.5rem;\r\n    text-align: right;\r\n  }\r\n  .errorModalBtn {\r\n    cursor: pointer;\r\n    color: white;\r\n    border: none;\r\n    width: 45px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border-radius: 4px;\r\n    &:first-child {\r\n      background-color: ${palette.blue[5]};\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ErrorModal = ({ history, error, post }) => {\r\n  if (!error || post) return null;\r\n\r\n  const handleClose = () => {\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <ErrorModalBlock>\r\n      <div className=\"contents\">\r\n        <div className=\"body\"></div>\r\n        <div className=\"footer\">\r\n          <button className=\"errorModalBtn\" onClick={handleClose}>\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </ErrorModalBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(ErrorModal);\r\n","import React from 'react';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\n\r\nconst Loading = () => {\r\n  return <MoonLoader color=\"#6b5ce7\" />;\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport ErrorModal from './ErrorModal';\r\nimport Loading from '../common/Loading';\r\nimport { formatDate } from '../../lib/format';\r\nimport PopupMenu from '../common/PopupMenu';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst PostReadBlock = styled.div`\r\n    word-break: break-all;\r\n    .header-wrapper {\r\n        border-bottom: 1px solid ${palette.gray[3]};\r\n        padding-bottom: 0.3rem;\r\n        margin-bottom: 1rem;\r\n        margin-left: 0.5rem;\r\n        margin-top: 3rem;\r\n        .title {\r\n            font-size: 1.3rem;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n\r\n    .header-container {\r\n        position: relative;\r\n        z-index: 1;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-top: 0.8rem;\r\n        margin-left: 0.5rem;\r\n        font-size: 0.5rem;\r\n        .headerInfo {\r\n            display: flex;\r\n        }\r\n\r\n        .username,\r\n        .createDate {\r\n            margin-right: 0.5rem;\r\n            color: ${palette.gray[6]};\r\n        }\r\n        .username {\r\n            cursor: pointer;\r\n        }\r\n        .username:hover {\r\n            color: ${palette.gray[9]};\r\n        }\r\n    }\r\n    .menu-wrapper {\r\n        top: 1.2rem;\r\n        left: 0rem;\r\n    }\r\n\r\n    .tag {\r\n        font-size: 0.7rem;\r\n        display: inline-block;\r\n        padding: 0 2px;\r\n        color: ${palette.gray[4]};\r\n        margin-left: 1rem;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .contentBody {\r\n        font-size: 0.9rem;\r\n        white-space: break-spaces;\r\n        word-break: break-all;\r\n        margin-bottom: 3rem;\r\n        margin-left: 1rem;\r\n        margin-right: 1rem;\r\n    }\r\n`;\r\n\r\nconst LoadingBlock = styled.div`\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\n\r\nconst PostRead = ({ post, user, error, loading, editDelete, onTagClick, usernameRef, outsideRef, isMenuOpen, onClickUser,likes}) => {\r\n\r\n\r\n    if (loading) {\r\n        return (\r\n            <LoadingBlock>\r\n                <Loading />\r\n            </LoadingBlock>\r\n        );\r\n    }\r\n\r\n    if (error || !post) {\r\n        return <ErrorModal error={error} post={post} />;\r\n    };\r\n\r\n    const { title, body, postUsername, createDate, tags} = {\r\n        ...post,\r\n        postUsername: post.user.username,\r\n    };\r\n    return (\r\n        <PostReadBlock>\r\n            <Helmet>\r\n                <title>{title} - KeyKey World</title>\r\n            </Helmet>\r\n            <div className=\"header-wrapper\">\r\n                <div>\r\n                    <span className=\"title\">{title}</span>\r\n                </div>\r\n                <div className=\"header-container\">\r\n                    <div className=\"headerInfo\">\r\n                        <div className=\"username\" onClick={onClickUser} ref={usernameRef}>\r\n                            {postUsername}\r\n                        </div>\r\n                        {isMenuOpen && (\r\n                            <PopupMenu auth={user} postUsername={postUsername} onClickUser={onClickUser} outsideRef={outsideRef} />\r\n                        )}\r\n                        <div className=\"createDate\">{formatDate(createDate)}</div>\r\n                    </div>\r\n                    {editDelete}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"contentBody\">{body}</div>\r\n\r\n            {tags.map((tag, index) => (\r\n                <span className=\"tag\" key={index} onClick={() => onTagClick(tag)}>\r\n                    #{tag}\r\n                </span>\r\n            ))}\r\n            {likes}\r\n        </PostReadBlock>\r\n    );\r\n};\r\n\r\nexport default PostRead;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\n\r\nconst RemoveModalBlock = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n\r\n  @keyframes fadeInDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate3d(0, -100%, 0);\r\n    }\r\n    to {\r\n      opacity: 1;\r\n      transform: translateZ(0);\r\n    }\r\n  }\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .contents {\r\n    position: relative;\r\n    top: 6rem;\r\n    max-width: 18rem;\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    border-radius: 0.3rem;\r\n    padding: 16px 64px 16px 16px;\r\n    background-color: #f1f1f1;\r\n\r\n    animation: fadeInDown 0.3s;\r\n  }\r\n  .body {\r\n    text-align: left;\r\n  }\r\n  .footer {\r\n    position: relative;\r\n    right: -3rem;\r\n    text-align: right;\r\n  }\r\n  .modalBtn {\r\n    cursor: pointer;\r\n    color: white;\r\n    border: none;\r\n    width: 45px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border-radius: 4px;\r\n    &:first-child {\r\n      background-color: ${palette.blue[5]};\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n    &:last-child {\r\n      margin-left: 0.5rem;\r\n      color: ${palette.blue[5]};\r\n      background-color: white;\r\n      &:hover {\r\n        background-color: ${palette.blue[1]};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst RemoveModal = ({ onRemove, show, handleClose }) => {\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <RemoveModalBlock>\r\n      <div className=\"overlay\" onClick={handleClose} />\r\n      <div className=\"contents\">\r\n        <div className=\"body\">\r\n           <br />\r\n          \r\n        </div>\r\n        <div className=\"footer\">\r\n          <button className=\"modalBtn\" onClick={onRemove}>\r\n            \r\n          </button>\r\n          <button className=\"modalBtn\" onClick={handleClose}>\r\n            \r\n          </button>\r\n        </div>\r\n      </div>\r\n    </RemoveModalBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(RemoveModal);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport RemoveModal from './RemoveModal';\r\nimport { GoPencil, GoTrashcan } from 'react-icons/go';\r\n\r\nconst EditDeleteBlock = styled.div`\r\n  color: ${palette.gray[7]};\r\n  cursor: pointer;\r\n  .iconEdit {\r\n    width: 15px;\r\n    height: 15px;\r\n    margin-right: 9px;\r\n    &:hover {\r\n      color: ${palette.gray[6]};\r\n    }\r\n  }\r\n  .iconDeltete {\r\n    width: 15px;\r\n    height: 15px;\r\n    &:hover {\r\n      color: ${palette.gray[6]};\r\n    }\r\n  }\r\n`;\r\n\r\nconst EditDelete = ({ onEdit,onRemove, history }) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClick = () => setShow(true);\r\n\r\n  const handleClose = () => setShow(false);\r\n\r\n  const handleRemove = () => {\r\n    setShow(false);\r\n    onRemove();\r\n  };\r\n\r\n  return (\r\n    <EditDeleteBlock>\r\n      <GoPencil className=\"iconEdit\" onClick={onEdit}/>\r\n      <GoTrashcan className=\"iconDeltete\" onClick={handleClick} />\r\n\r\n      <RemoveModal\r\n        onRemove={handleRemove}\r\n        handleClose={handleClose}\r\n        show={show}\r\n      />\r\n    </EditDeleteBlock>\r\n  );\r\n};\r\n\r\nexport default withRouter(EditDelete);\r\n","import Button from '../common/Button';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport { AiOutlineLike,AiTwotoneLike } from 'react-icons/ai';\r\n\r\nconst LikeBlock = styled.div`\r\n  margin-top: 4rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n\r\n  #likeButton {\r\n    font-size: 0.8rem;\r\n    font-weight: normal;\r\n    background-color: white;\r\n    color: ${palette.gray[6]};\r\n    border: 1px solid ${palette.gray[5]};\r\n    padding: 4px 8px 5.5px 8px;\r\n    display: flex;\r\n\r\n    &:hover {\r\n      color: ${palette.gray[5]};\r\n    }\r\n    #text {\r\n      margin-left: -0.07rem;\r\n      margin-right: -0rem;\r\n    }\r\n    #number {\r\n      margin-left: 0.3rem;\r\n      color: ${palette.blue[3]};\r\n      align-self: flex-end;\r\n    }\r\n    .icon {\r\n      margin-right: 0.4rem;\r\n      transform: scaleX(-1);\r\n      align-self: center;\r\n    }\r\n  }\r\n  #listUsername {\r\n    margin-right: 20rem; \r\n    font-size:0.8rem;  \r\n  }\r\n`;\r\nconst StyledP = styled.p`\r\n  border-bottom: 1px solid ${palette.gray[3]};\r\n  padding-bottom: 0.7rem;\r\n  margin-bottom: 0;\r\n\r\n  span {\r\n    margin-left: 0.3rem;\r\n    color: ${palette.blue[3]};\r\n  }\r\n`;\r\n\r\nconst Like =({onClick, addlike, iine}) => {\r\n\r\n  const onLiked = (e) =>{\r\n    e.preventDefault();\r\n    onClick();\r\n  }\r\n  return (\r\n    <>\r\n      <StyledP>\r\n        !\r\n        <span>{addlike.length}</span>\r\n      </StyledP>\r\n      <LikeBlock>\r\n        <ul id=\"listUsername\">{addlike.map((like)=><li key={like}>{like},</li>)}</ul>\r\n        <Button id=\"likeButton\" onClick={onLiked} >\r\n          {\r\n          iine ? <AiTwotoneLike className=\"icon\" />: \r\n                 <AiOutlineLike className='icon' />\r\n          }\r\n          <span id=\"text\"></span>\r\n        </Button>\r\n      </LikeBlock>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  getPost,\r\n  initPost,\r\n  removePost,\r\n} from '../modules/post';\r\nimport PostRead from '../components/post/PostRead';\r\nimport { withRouter } from 'react-router';\r\nimport EditDelete from '../components/post/EditDelete';\r\nimport { useMenu } from '../lib/useMenu';\r\nimport {\r\n  getComment,\r\n  initializeComment,\r\n} from '../modules/comment';\r\nimport { oldPost } from '../modules/write';\r\nimport Like from 'components/like/Like';\r\nimport { updateLike } from 'lib/api';\r\n\r\nconst PostReadContainer = ({\r\n  match,\r\n  history,\r\n}) => {\r\n  const { postId } = match.params;\r\n  const dispatch = useDispatch();\r\n\r\n  const { user, post, error, loading } =\r\n    useSelector(({ user, post, loading}) => ({\r\n      user: user.user,\r\n      post: post.post,\r\n      error: post.error,\r\n      loading: loading['post/GET_POST'],\r\n    }));\r\n  const outsideRef = useRef(null);\r\n  const usernameRef = useRef(null);\r\n  const [isMenuOpen, setIsMenuOpen] = useMenu(\r\n    outsideRef,\r\n    usernameRef\r\n  );\r\n\r\n  const {username}=user\r\n\r\n  const onClickUser = () => {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(postId));\r\n    return () => {\r\n      dispatch(initPost());\r\n    };\r\n  }, [dispatch, postId]);\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(getComment(postId));\r\n    return () => {\r\n      dispatch(initializeComment());\r\n    };\r\n  }, [dispatch, postId]);\r\n\r\n  const [iine,setIine] = useState(false);\r\n  const addlike=useRef([]);\r\n\r\n  useEffect(()=>{\r\n    if(post){\r\n      addlike.current=post.likes\r\n      setIine(addlike.current.includes(username));\r\n    }\r\n  },[post])\r\n\r\n  const onClick =()=>{\r\n    if(!iine){\r\n      if(!addlike.current.includes(username)){\r\n        addlike.current= addlike.current.concat(username);\r\n      }\r\n    }else{\r\n        const index = addlike.current.findIndex((e)=>e===username);\r\n        addlike.current.splice(index,1);\r\n    }\r\n    setIine(!iine);\r\n  }\r\n\r\n  useEffect(()=>{   \r\n    return()=>{\r\n      updateLike(postId,addlike.current)\r\n    }\r\n  },[dispatch,postId])\r\n\r\n\r\n  const onRemove = async () => {\r\n    try {\r\n      await dispatch(removePost(postId));\r\n      history.push('/');\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const onEdit = () =>{\r\n    dispatch(oldPost(post));\r\n    history.push('/write');\r\n  }\r\n\r\n  const onTagClick = (tag) => {\r\n    history.push(`/?tag=${tag}`);\r\n  };\r\n\r\n  const ownPost =\r\n    (user && user._id) ===\r\n    (post && post.user._id);\r\n  \r\n  return (\r\n    <PostRead\r\n      user={user}\r\n      postId={postId}\r\n      post={post}\r\n      loading={loading}\r\n      error={error}\r\n      likes={<Like onClick={onClick} iine={iine} addlike={addlike.current}/>}\r\n      onTagClick={onTagClick}\r\n      usernameRef={usernameRef}\r\n      outsideRef={outsideRef}\r\n      isMenuOpen={isMenuOpen}\r\n      onClickUser={onClickUser}\r\n      editDelete={\r\n        ownPost && (\r\n          <EditDelete onEdit={onEdit} onRemove={onRemove} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(PostReadContainer);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport { withRouter } from 'react-router';\r\nimport moment from 'moment';\r\nimport { RiMenu3Line } from 'react-icons/ri';\r\n\r\nconst PostReadListBlock = styled.div`\r\n  margin-top: 3rem;\r\n  font-size: 1rem;\r\n  table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n  }\r\n  th {\r\n    font-weight: normal;\r\n    border-bottom: 2px solid;\r\n    padding: 10px;\r\n    :nth-child(odd) {\r\n      text-align: left;\r\n    }\r\n    :nth-child(even) {\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n      text-align: right;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  .icon {\r\n    font-size: 23px;\r\n    color: ${palette.gray[7]};\r\n    :hover {\r\n      color: ${palette.gray[6]};\r\n    }\r\n  }\r\n  td {\r\n    font-size: 0.8rem;\r\n    border-bottom: 1px solid ${palette.gray[3]};\r\n    padding: 10px;\r\n    :nth-child(odd) {\r\n      cursor: pointer;\r\n      text-align: left;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n    :nth-child(even) {\r\n      text-align: right;\r\n    }\r\n  }\r\n  .currentPost {\r\n    font-weight: bold;\r\n  }\r\n  .button-group {\r\n    margin-top: 1rem;\r\n    font-size: 0.8rem;\r\n    text-align: center;\r\n    .prev {\r\n      margin-right: 0.5rem;\r\n      cursor: pointer;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n    .next {\r\n      cursor: pointer;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostReadList = ({ onPostClick, onListClick, posts, post }) => {\r\n  if (!post) return null;\r\n\r\n  return (\r\n    <PostReadListBlock>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>blog</th>\r\n            <th onClick={onListClick}>\r\n              <RiMenu3Line className=\"icon\" />\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {posts &&\r\n            posts.map((p, index) => (\r\n              <tr key={index}>\r\n                <td\r\n                  className={p._id === post._id ? 'currentPost' : ''}\r\n                  onClick={() => onPostClick(p._id)}\r\n                >\r\n                  {p.title}\r\n                </td>\r\n                <td>{moment(p.createDate).format('YYYY-MM-DD HH:mm')}</td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n    </PostReadListBlock>\r\n  );\r\n};\r\nexport default withRouter(PostReadList);\r\n","import React, { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport PostReadList from '../components/post/PostReadList';\r\n\r\nconst PostReadListContainer = ({ history }) => {\r\n  const { posts, post } = useSelector(({ posts, post }) => ({\r\n    posts: posts.posts,\r\n    post: post.post,\r\n  }));\r\n\r\n  const currentIndex = post && posts.findIndex((p) => p._id === post._id);\r\n  const firstIndex = useRef(0);\r\n  const lastIndex = useRef(0);\r\n\r\n  if (currentIndex - 2 < 0) {\r\n    firstIndex.current = 0;\r\n    lastIndex.current = 5;\r\n  } else if (currentIndex + 3 > posts.length) {\r\n    firstIndex.current = posts.length - 5 < 0 ? 0 : posts.length - 5;\r\n    lastIndex.current = posts.length;\r\n  } else {\r\n    firstIndex.current = currentIndex - 2;\r\n    lastIndex.current = currentIndex + 3;\r\n  }\r\n\r\n  const newPosts = posts && posts.slice(firstIndex.current, lastIndex.current);\r\n\r\n  const onPostClick = (id) => {\r\n    const post = newPosts.find((p) => p._id === id);\r\n    const { user } = post;\r\n    history.push(`/${user.username}/${id}`);\r\n  };\r\n\r\n  const onListClick = () => {\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <PostReadList\r\n      onPostClick={onPostClick}\r\n      onListClick={onListClick}\r\n      posts={newPosts}\r\n      post={post}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter(PostReadListContainer);\r\n","import React from 'react';\r\nimport Template from '../components/common/Responsive';\r\nimport CommentContainer from '../containers/CommentContainer';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport PostReadContainer from '../containers/PostReadContainer';\r\nimport PostReadListContainer from '../containers/PostReadListContainer';\r\n\r\nconst PostReadPage = () => {\r\n  return (\r\n    <>\r\n      <GnbContainer />\r\n      <Template main>\r\n        <PostReadContainer />\r\n        <CommentContainer />\r\n        <PostReadListContainer />\r\n      </Template>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PostReadPage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { SiApache } from 'react-icons/si';\r\nimport palette from '../../lib/palette';\r\n\r\nconst WriteTemplateBlock = styled.div`\r\n  margin: 0 auto;\r\n  margin-top: 1.5rem;\r\n  width: 50%;\r\n  @media (max-width: 768px) {\r\n    width: 95%;\r\n  }\r\n  .icon {\r\n    color: ${palette.gray[6]};\r\n    height: 30px;\r\n    width: 30px;\r\n    transform: rotate(15deg);\r\n    position: relative;\r\n    z-index: -1;\r\n  }\r\n  .write {\r\n    display: inline-block;\r\n    margin-bottom: 1rem;\r\n    color: ${palette.gray[6]};\r\n  }\r\n`;\r\n\r\nconst WriteTemplate = ({ children }) => {\r\n  return (\r\n    <WriteTemplateBlock>\r\n      <SiApache className=\"icon\" />\r\n      <div className=\"write\"></div>\r\n      {children}\r\n    </WriteTemplateBlock>\r\n  );\r\n};\r\n\r\nexport default WriteTemplate;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport { withRouter } from 'react-router';\r\n\r\nconst ModalBlock = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n\r\n  .overlay {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nconst Section = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 300px;\r\n  margin: 6rem auto;\r\n  border-radius: 0.3rem;\r\n\r\n  padding: 16px 16px 16px 16px;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n\r\n  .body {\r\n    padding: 1.5rem;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst Footer = styled.div`\r\n  text-align: right;\r\n\r\n  .modalBtn {\r\n    cursor: pointer;\r\n    color: white;\r\n    font-size:15px;\r\n    box-sizing: border-box;\r\n    border: none;\r\n    width: 70px;\r\n    height: 25px;\r\n    line-height: 25px;\r\n    border-radius: 0.3rem;\r\n\r\n    &:first-child {\r\n      margin-right: 0.5rem;\r\n      background-color: ${palette.blue[5]};\r\n\r\n      &:hover {\r\n        color: white;\r\n      }\r\n    }\r\n\r\n    &:last-child {\r\n      margin-left: 0.15rem;\r\n      color: ${palette.blue[5]};\r\n      background-color: white;\r\n\r\n      &:hover {\r\n        background-color: ${palette.blue[1]};\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst CancleModal = ({ handleOpen, handleClose, handleGoBack }) => {\r\n  if (!handleOpen) return null;\r\n\r\n  return (\r\n    \r\n    <ModalBlock>\r\n      <div className=\"overlay\" onClick={handleClose} />\r\n      <Section>\r\n        <div className=\"body\"></div>\r\n        <Footer>\r\n          <button className='modalBtn' onClick={handleGoBack}>\r\n            \r\n          </button>\r\n          <button className='modalBtn' onClick={handleClose}>\r\n            \r\n          </button>\r\n        </Footer>\r\n      </Section>\r\n    </ModalBlock>\r\n    \r\n  );\r\n};\r\n\r\nexport default withRouter(CancleModal);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport Button from '../common/Button';\r\nimport CancleModal from './CancleModal';\r\nimport { MdClose } from 'react-icons/md';\r\nimport { BsCheck2 } from 'react-icons/bs';\r\nimport palette from '../../lib/palette';\r\nimport {\r\n  CANCEL_BT_TITLE,\r\n  SUBMIT_BT_TITLE,\r\n  SUBMIT_BT_WARN,\r\n} from '../../lib/msg';\r\n\r\nconst WriteButtonsBlock = styled.div`\r\n  margin-top: 3rem;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n`;\r\n\r\nconst StyledButton = styled(Button)`\r\n  padding: 7px 7px 3px 7px;\r\n  & + & {\r\n    margin-left: 1rem;\r\n  }\r\n  &:first-of-type {\r\n    background-color: ${palette.gray[4]};\r\n\r\n    &:hover {\r\n      background-color: ${palette.gray[3]};\r\n    }\r\n  }\r\n  &:last-of-type {\r\n    background-color: ${({ error }) =>\r\n      error ? '#ced4da' : '#4dabf7'};\r\n\r\n    cursor: ${({ error }) =>\r\n      error ? 'default' : 'pointer'};\r\n\r\n    &:hover {\r\n      background-color: ${({ error }) =>\r\n        error ? '#ced4da' : '#74c0fc'};\r\n    }\r\n  }\r\n`;\r\n\r\nconst WriteButtons = ({\r\n  onSubmit,\r\n  onGoBack,\r\n  error,\r\n}) => {\r\n  const [modalIsOpen, setModalIsOpen] =\r\n    useState(false);\r\n\r\n  const openModal = () => setModalIsOpen(true);\r\n\r\n  const closeModal = () => setModalIsOpen(false);\r\n\r\n  return (\r\n    <>\r\n      <WriteButtonsBlock>\r\n        <StyledButton\r\n          onClick={openModal}\r\n          title={CANCEL_BT_TITLE}\r\n        >\r\n          <MdClose color=\"white\" size={30} />\r\n        </StyledButton>\r\n\r\n        <StyledButton\r\n          onClick={onSubmit}\r\n          error={error}\r\n          title={\r\n            error\r\n              ? SUBMIT_BT_WARN\r\n              : SUBMIT_BT_TITLE\r\n          }\r\n        >\r\n          <BsCheck2 color=\"white\" size={30} />\r\n        </StyledButton>\r\n\r\n        <CancleModal\r\n          handleOpen={modalIsOpen}\r\n          handleClose={closeModal}\r\n          handleGoBack={onGoBack}\r\n        ></CancleModal>\r\n      </WriteButtonsBlock>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(WriteButtons);\r\n","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { MAX_NUM_TAGS } from '../../lib/constants';\r\nimport palette from '../../lib/palette';\r\nimport { TAG_PLACEHOLDER, WARNING_TAG_1, WARNING_TAG_2 } from '../../lib/msg';\r\n\r\nconst StyledP = styled.p`\r\n    text-align: right;\r\n    margin-top: -1.5rem;\r\n    margin-left: 1rem;\r\n    color: ${({ length }) => (length === MAX_NUM_TAGS ? '#a5d8ff' : '#adb5bd')};\r\n`;\r\n\r\nconst TagsBlock = styled.div`\r\n    margin-top: 2rem;\r\n\r\n    .tagInput {\r\n        font-size: 1rem;\r\n        border: none;\r\n        outline: none;\r\n        border-bottom: 1px solid ${palette.gray[4]};\r\n        width: 100%;\r\n        &:focus {\r\n            border-bottom: 1px solid ${palette.blue[4]};\r\n        }\r\n    }\r\n    .warnMS {\r\n        font-size: 0.8rem;\r\n        color: ${palette.red[4]};\r\n        display: inline-block;\r\n    }\r\n    .tagDiv {\r\n        margin-top: 1rem;\r\n    }\r\n    .tagSpan {\r\n        margin-left: 0.5rem;\r\n        margin-top: 0.5rem;\r\n        padding: 0.2rem 0.7rem 0.2rem 0.7rem;\r\n        display: inline-block;\r\n        font-size: 0.9rem;\r\n        background-color: ${palette.gray[2]};\r\n\r\n        &:hover {\r\n            cursor: pointer;\r\n            background-color: ${palette.gray[4]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst TagList = React.memo(({ localTags, onRemove }) => (\r\n    <div className=\"tagDiv\">\r\n        {localTags &&\r\n            localTags.map((tag) => (\r\n                <span className=\"tagSpan\" key={tag} onClick={() => onRemove(tag)}>\r\n                    #{tag}\r\n                </span>\r\n            ))}\r\n    </div>\r\n));\r\n\r\nconst Tags = ({ onSubmitTags }) => {\r\n    const [localTags, setLocalTags] = useState([]);\r\n    const [value, setValue] = useState('');\r\n    const [warnMS, setWarnMS] = useState('');\r\n\r\n    const replaceValue = (value, flag) => {\r\n        const replaced = value.replace(/ /g, '').replace(/,/g, '');\r\n        if (flag) {\r\n            const replaceSpecialChar = replaced.replace(/[\\\\{\\\\}[\\]\\\\/?.;:|\\\\)*~`!^\\-+<>@\\\\#$%&\\\\\\\\=\\\\(\\\\'\\\\\"]/g, '');\r\n            return replaceSpecialChar;\r\n        }\r\n        return replaced;\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        const targetValue = e.target.value;\r\n        const replacedTargetValue = replaceValue(targetValue);\r\n        setValue(replacedTargetValue);\r\n    };\r\n\r\n    const onKeyDown = (e) => {\r\n        const keyCode = e.keyCode;\r\n\r\n        const keyFlag =\r\n            keyCode === 188 || \r\n            keyCode === 32 || \r\n            keyCode === 13; \r\n\r\n        if (keyFlag) {\r\n            const replacedValue = replaceValue(value, keyFlag);\r\n\r\n            if (value === '') return; \r\n            if (localTags.includes(replacedValue)) {\r\n                setWarnMS(WARNING_TAG_1);\r\n                return; \r\n            }\r\n            if (localTags.length >= MAX_NUM_TAGS) {\r\n                setWarnMS(WARNING_TAG_2);\r\n                return; \r\n            }\r\n\r\n            const filtering = [replacedValue].filter((element) => element !== '');\r\n            setLocalTags(localTags.concat(filtering));\r\n            setValue('');\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        onSubmitTags(localTags);\r\n    }, [localTags, onSubmitTags]);\r\n\r\n    useEffect(() => {\r\n        setWarnMS('');\r\n    }, [value]);\r\n\r\n    const onRemove = (localtag) => {\r\n        setLocalTags(localTags.filter((tag) => tag !== localtag));\r\n    };\r\n\r\n    return (\r\n        <TagsBlock>\r\n            <form onSubmit={(e) => e.preventDefault()}>\r\n                <input\r\n                    type=\"text\"\r\n                    className=\"tagInput\"\r\n                    placeholder={TAG_PLACEHOLDER}\r\n                    value={value}\r\n                    onChange={onChange}\r\n                    onKeyDown={onKeyDown}\r\n                    maxLength=\"15\"\r\n                />\r\n                <StyledP length={localTags.length}>\r\n                    {localTags.length}/{MAX_NUM_TAGS}\r\n                </StyledP>\r\n                {warnMS ? <div className=\"warnMS\">{warnMS}</div> : null}\r\n            </form>\r\n\r\n            <TagList className=\"TagList\" localTags={localTags} warnMS={warnMS} onRemove={onRemove} />\r\n        </TagsBlock>\r\n    );\r\n};\r\n\r\nexport default Tags;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {\r\n  MAX_BODY,\r\n  MAX_TITLE,\r\n} from '../../lib/constants';\r\nimport {\r\n  BODY_PLACEHOLDER,\r\n  TITLE_PLACEHOLDER,\r\n} from '../../lib/msg';\r\nimport palette from '../../lib/palette';\r\n\r\nconst StyledInput = styled.input`\r\n  font-size: 1.3rem;\r\n  border: none;\r\n  outline: none;\r\n  border-bottom: 1px solid ${palette.gray[4]};\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n  box-sizing: border-box;\r\n\r\n  &:focus {\r\n    border-bottom: 1px solid ${palette.blue[4]};\r\n  }\r\n\r\n  & + & {\r\n    margin-top: 1rem;\r\n  }\r\n`;\r\n\r\nconst StyledBodyDiv = styled.div`\r\n  textarea {\r\n    width: 100%;\r\n    height: 300px;\r\n    font-size: 1rem;\r\n    border: none;\r\n    outline: none;\r\n    border-bottom: 1px solid\r\n      ${({ bodyLength }) =>\r\n        bodyLength > MAX_BODY\r\n          ? '#ffa8a8'\r\n          : '#ced4da'};\r\n    padding-top: 0.7rem;\r\n    resize: none;\r\n    overflow: auto;\r\n    margin-top: 1rem;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n\r\n    &:focus {\r\n      border-bottom: 1px solid\r\n        ${({ bodyLength }) =>\r\n          bodyLength > MAX_BODY\r\n            ? '#ff0000'\r\n            : '#4dabf7'};\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledTitleLength = styled.div`\r\n  margin-top: -2.5rem;\r\n  text-align: right;\r\n  color: ${({ titleLength }) =>\r\n    titleLength >= MAX_TITLE\r\n      ? '#a5d8ff'\r\n      : '#adb5bd'};\r\n`;\r\n\r\nconst StyledBodyLength = styled.div`\r\n  margin-top: -1.7rem;\r\n  float: right;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 4rem;\r\n  position: relative;\r\n  z-index: 1;\r\n  color: ${({ bodyLength }) => {\r\n    if (bodyLength === MAX_BODY) return '#a5d8ff';\r\n    if (bodyLength > MAX_BODY) return '#ff0000';\r\n    else return '#adb5bd';\r\n  }};\r\n`;\r\n\r\nconst WriteForm = ({ onChange, title, body }) => {\r\n  const bodyLength = body.length;\r\n  const titleLength = title.length;\r\n\r\n  return (\r\n    <>\r\n      <StyledInput\r\n        placeholder={TITLE_PLACEHOLDER}\r\n        name=\"title\"\r\n        onChange={onChange}\r\n        value={title}\r\n        maxLength={MAX_TITLE}\r\n      />\r\n      <StyledTitleLength\r\n        titleLength={titleLength}\r\n      >\r\n        {titleLength}/{MAX_TITLE}\r\n      </StyledTitleLength>\r\n      <StyledBodyDiv bodyLength={bodyLength}>\r\n        <textarea\r\n          placeholder={BODY_PLACEHOLDER}\r\n          name=\"body\"\r\n          onChange={onChange}\r\n          value={body}\r\n        ></textarea>\r\n        <StyledBodyLength bodyLength={bodyLength}>\r\n          {bodyLength}/{MAX_BODY}\r\n        </StyledBodyLength>\r\n      </StyledBodyDiv>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WriteForm;\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useState,\r\n} from 'react';\r\nimport {\r\n  useDispatch,\r\n  useSelector,\r\n} from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport WriteButtons from '../components/write/WriteButtons';\r\nimport { postsList } from '../modules/posts';\r\nimport {\r\n  changeField,\r\n  createPost,\r\n  initialize,\r\n  updatePost,\r\n} from '../modules/write';\r\nimport { MAX_BODY } from '../lib/constants';\r\nimport Tags from '../components/write/Tags';\r\nimport WriteForm from '../components/write/WriteForm';\r\n\r\nconst ButtonsContainer = ({ history }) => {\r\n  const { title, body, tags, post, postError,oldpostId } =\r\n    useSelector(({ write }) => ({\r\n      title: write.title,\r\n      body: write.body,\r\n      tags: write.tags,\r\n      post: write.post,\r\n      postError: write.postError,\r\n      oldpostId:write.oldpostId,\r\n    }));\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [error, setError] = useState(true);\r\n\r\n  const cantSubmit = \r\n    [title, body].includes('') ||\r\n    body.length > MAX_BODY;\r\n\r\n  const onSubmit = useCallback(() => {\r\n    if (error) return;\r\n     if(oldpostId){\r\n      dispatch(updatePost({postId:oldpostId,title,body,tags}));\r\n      history.push('/');\r\n      return;\r\n    }\r\n    dispatch(createPost({ title, body, tags }));\r\n  }, [dispatch, title, body, tags, error,oldpostId,history]);\r\n\r\n  const checkField = useCallback(() => {\r\n    if (cantSubmit) {\r\n      setError(true);\r\n      return;\r\n    }\r\n    setError(false);\r\n  }, [cantSubmit]);\r\n\r\n  const onGoBack = () => {\r\n    history.goBack(); \r\n  };\r\n\r\n  const onChange = useCallback(\r\n    (e) => {\r\n      const { value, name } = e.target;\r\n\r\n      dispatch(\r\n        changeField({\r\n          key: name,\r\n          value,\r\n        })\r\n      );\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const onSubmitTags = useCallback(\r\n    (localTags) => {\r\n      dispatch(\r\n        changeField({\r\n          key: 'tags',\r\n          value: localTags,\r\n        })\r\n      );\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  useEffect(checkField, [body, checkField]);\r\n\r\n  useEffect(() => {\r\n    \r\n    if (post) {\r\n      dispatch(postsList({}));\r\n      const { _id } = post;\r\n      history.push(`/posts/${_id}`);\r\n    }\r\n    \r\n    if (postError) {\r\n      setError(postError.response.data.message);\r\n    }\r\n  }, [dispatch, history, post, postError]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(initialize());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <WriteForm\r\n        onChange={onChange}\r\n        title={title}\r\n        body={body}\r\n      />\r\n      <Tags onSubmitTags={onSubmitTags} />\r\n      <WriteButtons\r\n        onSubmit={onSubmit}\r\n        onGoBack={onGoBack}\r\n        error={error}\r\n      ></WriteButtons>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(ButtonsContainer);\r\n","import React from 'react';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport WriteTemplate from '../components/write/WriteTemplate';\r\nimport WriteContainer from '../containers/WriteContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst WritePage = () => {\r\n  return (\r\n    <>\r\n      <GnbContainer />\r\n      <Helmet>\r\n          <title> - KeyKey World</title>\r\n      </Helmet>\r\n      <WriteTemplate>\r\n        <WriteContainer />\r\n      </WriteTemplate>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WritePage;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport palette from '../../lib/palette';\r\nimport Button from '../common/Button';\r\nimport { formatDate_day, registedPeriod } from '../../lib/format';\r\n\r\nconst UserInfoBlock = styled.div`\r\n    margin: 0 auto;\r\n    width: 30%;\r\n    @media (max-width: 1350px) {\r\n        width: 50%;\r\n    }\r\n    @media (max-width: 785px) {\r\n        width: 90%;\r\n    }\r\n\r\n    h3 {\r\n        margin-top: 2rem;\r\n        margin-bottom: 2rem;\r\n        padding-bottom: 0.5rem;\r\n        border-bottom: 2px solid;\r\n    }\r\n`;\r\n\r\nconst InfoItem = styled.div`\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    div {\r\n        width: 30%;\r\n    }\r\n`;\r\n\r\nconst Footer = styled.div`\r\n    margin-top: 2rem;\r\n    text-align: right;\r\n    font-size: 0.8rem;\r\n    button {\r\n        text-decoration: none;\r\n        background-color: ${palette.blue[5]};\r\n        &:hover {\r\n            background-color: ${palette.blue[4]};\r\n        }\r\n    }\r\n`;\r\n\r\nconst UserInfo = ({ information, meFlag, onCancel, onEdit }) => {\r\n    const { username, email, phone, createDate } = information;\r\n\r\n    if (!information) return null;\r\n\r\n    return (\r\n        <>\r\n            <UserInfoBlock>\r\n                <div>\r\n                    <h3></h3>\r\n                    <InfoItem>\r\n                        <div></div>\r\n                        {username}\r\n                    </InfoItem>\r\n                    <InfoItem>\r\n                        <div></div>\r\n                        {formatDate_day(createDate)}\r\n                        {` ( D+${registedPeriod(createDate)} )`}\r\n                    </InfoItem>\r\n                    {meFlag && (\r\n                        <>\r\n                            <InfoItem>\r\n                                <div>E</div>\r\n                                {email}\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                {phone}\r\n                            </InfoItem>\r\n                        </>\r\n                    )}\r\n                </div>\r\n                <Footer>\r\n                    <Button style={{ background: `${palette.gray[6]}` }} onClick={onCancel}></Button>\r\n                    {meFlag && <Button onClick={onEdit}></Button>}\r\n                </Footer>\r\n            </UserInfoBlock>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default UserInfo;\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport UserInfo from '../components/auth/UserInfo';\r\nimport { withRouter } from 'react-router';\r\nimport qs from 'qs';\r\nimport { getUserInfo, initialize, setOriginalUserInfo } from '../modules/userInfo';\r\n\r\nconst UserInfoContainer = ({ location, history }) => {\r\n    const dispatch = useDispatch();\r\n    const { information, error, loading, user } = useSelector(({ userInfo, loading, user }) => ({\r\n        information: userInfo.userInfo,\r\n        error: userInfo.error,\r\n        loading: loading['userInfo/USERINFO'],\r\n        user: user.user,\r\n    }));\r\n    const { username, meFlag } = qs.parse(location.search, {\r\n        ignoreQueryPrefix: true,\r\n    });\r\n\r\n    const onCancel = () => {\r\n        history.goBack();\r\n        dispatch(initialize());\r\n    };\r\n\r\n    const onEdit = () => {\r\n        dispatch(setOriginalUserInfo(information));\r\n        history.push('/updateuser');\r\n    }\r\n\r\n    useEffect(() => {\r\n      dispatch(getUserInfo({ username, meFlag}));\r\n    }, [dispatch, username, meFlag]);\r\n\r\n    return (\r\n        <>\r\n            {!loading && information && (\r\n                <UserInfo information={information} error={error} meFlag={JSON.parse(meFlag)} onCancel={onCancel} onEdit={onEdit}/>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(UserInfoContainer);\r\n","import React from 'react';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport UserInfoContainer from '../containers/UserInfoContainer';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nconst UserInfo = () => {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title> - KeyKey World</title>\r\n      </Helmet>\r\n      <GnbContainer />\r\n      <UserInfoContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { formatDate_day, registedPeriod } from '../../lib/format';\r\nimport palette from '../../lib/palette';\r\nimport Button from '../common/Button';\r\n\r\nconst UserInfoBlock = styled.div`\r\n    margin: 0 auto;\r\n    width: 30%;\r\n    @media (max-width: 1350px) {\r\n        width: 50%;\r\n    }\r\n    @media (max-width: 785px) {\r\n        width: 90%;\r\n    }\r\n\r\n    h3 {\r\n        margin-top: 2rem;\r\n        margin-bottom: 2rem;\r\n        padding-bottom: 0.5rem;\r\n        border-bottom: 2px solid;\r\n    }\r\n`;\r\n\r\nconst InfoItem = styled.div`\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    div {\r\n        width: 30%;\r\n    }\r\n    input{\r\n        outline: none;\r\n        border: none;\r\n        background: ${palette.gray[2]};\r\n        border-radius: 4px;\r\n        line-height: 1.5rem;\r\n    }\r\n`;\r\n\r\nconst ErrorBlock = styled.div`\r\n    color: red;\r\n    font-size: 0.8rem;\r\n    margin-top: 1rem;\r\n    text-align: center;\r\n`;\r\n\r\nconst Footer = styled.div`\r\n    margin-top: 2rem;\r\n    text-align: right;\r\n    font-size: 0.8rem;\r\n    button {\r\n        text-decoration: none;\r\n        background-color: ${palette.blue[5]};\r\n        &:hover {\r\n            background-color: ${palette.blue[4]};\r\n        }\r\n    }\r\n`;\r\nconst UpdateUser = ({ information, loading, onChange, onSubmit, error, history }) => {\r\n    if (!information) return null;\r\n    const { username, email, phone, userInfo } = information;\r\n    const { createDate } = userInfo;\r\n\r\n    return (\r\n        <>\r\n            <UserInfoBlock>\r\n                <form onSubmit={onSubmit}>\r\n                    {information && !loading && (\r\n                        <>\r\n                            <h3>Edit User Info</h3>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                {username}\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                {formatDate_day(createDate)}\r\n                                {` ( D+${registedPeriod(createDate)} )`}\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div>E</div>\r\n                                <input name=\"email\" type=\"email\" value={email} onChange={onChange} required />\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                <input name=\"phone\" value={phone} onChange={onChange} required />\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                <input name=\"password\" type=\"password\" onChange={onChange} />\r\n                            </InfoItem>\r\n                            <InfoItem>\r\n                                <div></div>\r\n                                <input name=\"passwordConfirm\" type=\"password\" onChange={onChange} />\r\n                            </InfoItem>\r\n                        </>\r\n                    )}\r\n                    {error && <ErrorBlock>{error}</ErrorBlock>}\r\n                </form>\r\n                <Footer>\r\n                    <Button style={{ background: `${palette.gray[6]}` }} onClick={() => history.goBack()}>\r\n                        \r\n                    </Button>\r\n                    <Button onClick={onSubmit}></Button>\r\n                </Footer>\r\n            </UserInfoBlock>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withRouter(UpdateUser);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport UpdateUser from '../components/auth/UpdateUser';\r\nimport { updateUser, changeForm } from '../modules/userInfo';\r\n\r\nconst UpdateUserContainer = ({ history }) => {\r\n    const [error, setError] = useState(null);\r\n    const [success, setSuccess] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const { information, loading, user } = useSelector(({ userInfo, loading, user }) => ({\r\n        information: userInfo,\r\n        error: userInfo.error,\r\n        loading: loading['userInfo/UPDATEUSER'],\r\n        user: user.user,\r\n    }));\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const { userId, password, passwordConfirm, email, phone } = information;\r\n        const { originEmail, originPhone } = {\r\n            ...information,\r\n            originEmail: information.userInfo.email,\r\n            originPhone: information.userInfo.phone,\r\n        };\r\n        const changePassword = password === '' ? undefined : password;\r\n\r\n        if (password !== passwordConfirm) {\r\n            setError('');\r\n            return;\r\n        }\r\n\r\n        if (email === originEmail && phone === originPhone && !changePassword) {\r\n            setError('');\r\n            return;\r\n        }\r\n        dispatch(updateUser({ userId, password: changePassword, email, phone }));\r\n        setSuccess(true);\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        const { name, value } = e.target;\r\n        dispatch(changeForm({ key: name, value }));\r\n    };\r\n\r\n    const goBack = (e) => {\r\n        e.preventDefault();\r\n        history.goBack();\r\n    };\r\n\r\n    useEffect(()=>{\r\n        if(success) history.goBack('');\r\n    },[history, success])\r\n\r\n    return (\r\n        <UpdateUser\r\n            information={information}\r\n            error={error}\r\n            loading={loading}\r\n            onChange={onChange}\r\n            onSubmit={onSubmit}\r\n            goBack={goBack}\r\n        />\r\n    );\r\n};\r\n\r\nexport default withRouter(UpdateUserContainer);\r\n","import React from 'react';\r\nimport GnbContainer from '../containers/GnbContainer';\r\nimport UpdateUserContainer from '../containers/UpdateUserContainer';\r\n\r\nconst UpdateUserPage = () => {\r\n  return (\r\n    <>\r\n      <GnbContainer />\r\n      <UpdateUserContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpdateUserPage;\r\n","import React from 'react';\r\nimport { Route } from 'react-router';\r\nimport PostListPage from './pages/PostListPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport ReadPage from './pages/PostReadPage';\r\nimport WritePage from './pages/WritePage';\r\nimport './App.css';\r\nimport UserInfo from './pages/UserInfo';\r\nimport UpdateUserPage from './pages/UpdateUserPage';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n        <Helmet>\r\n          <title>KeyKey World</title>\r\n        </Helmet>\r\n        <Route component={PostListPage} path=\"/\" exact />\r\n        <Route component={LoginPage} path=\"/login\" />\r\n        <Route component={RegisterPage} path=\"/register\" />\r\n        <Route component={ReadPage} path=\"/:username/:postId\" />\r\n        <Route component={WritePage} path=\"/write\" />\r\n        <Route component={UserInfo} path=\"/userInfo\" />\r\n        <Route component={UpdateUserPage} path=\"/updateuser\" /> \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { persistStore } from 'redux-persist';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\n\r\nimport { createLogger } from 'redux-logger';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer, { rootSaga } from './modules';\r\nimport { tempSetUser, check } from './modules/user';\r\n\r\nimport { HelmetProvider } from 'react-helmet-async';\r\n\r\nimport App from './App';\r\n\r\nconst saga = createSagaMiddleware();\r\nconst middleWares = [saga];\r\nif (process.env.NODE_ENV !== 'production') {\r\n    const logger = createLogger();\r\n    middleWares.push(logger);\r\n}\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middleWares)));\r\nconst persistor = persistStore(store);\r\nfunction loadLS() {\r\n    try {\r\n        const user = localStorage.getItem('user');\r\n        if (!user) return;\r\n        store.dispatch(tempSetUser(JSON.parse(user)));\r\n        store.dispatch(check());\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nsaga.run(rootSaga);\r\nloadLS();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <PersistGate loading={null} persistor={persistor}>\r\n                <HelmetProvider>\r\n                    <App />\r\n                </HelmetProvider>\r\n            </PersistGate>\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}